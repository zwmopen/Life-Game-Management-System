# 主题设计说明

## 1. 主题设计概述

本项目采用了现代化的拟态设计（Neumorphism）作为主要视觉风格，并提供了浅色和深色两种主题变体。拟态设计通过柔和的阴影和微妙的色彩变化，创造出一种介于平面设计和立体设计之间的视觉效果，给用户带来独特的视觉体验。

## 2. 拟态设计原则

拟态设计的核心原则是：

- **柔和阴影**：使用两层阴影（深色阴影和浅色阴影）来创建凸起或凹陷的效果
- **统一背景**：所有元素共享相同或相似的背景色
- **微妙色彩**：使用低饱和度的色彩，避免强烈的色彩对比
- **圆角设计**：大量使用圆角元素，增强柔和感
- **简洁布局**：保持界面简洁，避免过多的装饰元素

## 3. 主题类型

本项目支持四种主题类型：

| 主题类型 | 描述 | 背景色 | 阴影效果 |
|---------|------|--------|----------|
| neomorphic-dark | 拟态深色主题 | #1e1e2e | 深色阴影和浅色阴影结合，创造凸起效果 |
| neomorphic-light | 拟态浅色主题 | #e0e5ec | 浅色阴影和深色阴影结合，创造凸起效果 |
| dark | 传统深色主题 | bg-zinc-900 | 单一阴影，简洁风格 |
| light | 传统浅色主题 | bg-white | 单一阴影，简洁风格 |

## 4. 样式实现

### 4.1 样式常量

所有主题样式都定义在 `constants/styles.ts` 文件中，使用 TypeScript 接口和常量来管理：

```typescript
interface StyleVariant {
  neomorphicDark: string;
  neomorphicLight: string;
  dark: string;
  light: string;
}
```

### 4.2 主要样式组件

- **卡片样式** (`cardStyles`)：用于各种卡片组件
- **输入框样式** (`inputStyles`)：用于文本输入框
- **按钮样式** (`buttonStyles`)：用于各种按钮
- **小按钮样式** (`smallButtonStyles`)：用于图标按钮
- **文本颜色** (`textColors`)：定义不同主题下的文本颜色
- **背景颜色** (`bgColors`)：定义不同主题下的背景颜色

### 4.3 样式辅助函数

- **getStyleByTheme**：根据主题获取对应的样式类名
- **getTextMain**：获取主文本颜色
- **getTextMuted**：获取次要文本颜色
- **getButtonStyle**：获取带颜色变体的按钮样式
- **getSmallButtonStyle**：获取带颜色变体的小按钮样式

## 5. 如何在组件中使用主题

### 5.1 导入样式常量

```typescript
import { cardStyles, inputStyles, buttonStyles, getStyleByTheme, getTextMain } from '../../constants/styles';
```

### 5.2 在组件中应用样式

```typescript
const Component = ({ theme }: { theme: Theme }) => {
  const isNeomorphic = theme.startsWith('neomorphic');
  const isDark = theme.includes('dark');
  
  return (
    <div className={`${getStyleByTheme(cardStyles, isNeomorphic, theme)} p-4`}>
      <input 
        type="text" 
        className={`${getStyleByTheme(inputStyles, isNeomorphic, theme)} ${getTextMain(isNeomorphic, theme)}`} 
        placeholder="请输入内容" 
      />
      <button className={`${getStyleByTheme(buttonStyles, isNeomorphic, theme)} mt-2`}>
        按钮
      </button>
    </div>
  );
};
```

## 6. 主题切换机制

### 6.1 主题类型定义

在 `types/index.ts` 文件中定义了主题类型：

```typescript
export type Theme = 'neomorphic-dark' | 'neomorphic-light' | 'dark' | 'light';
```

### 6.2 主题上下文

使用 React Context 来管理全局主题状态，便于在整个应用中共享主题信息。

### 6.3 主题切换组件

提供了主题切换组件，允许用户在不同主题之间切换。

## 7. 响应式设计

所有主题样式都支持响应式设计，能够适应不同屏幕尺寸。

## 8. 组件样式示例

### 8.1 卡片组件

```typescript
// 拟态深色主题卡片
<div className="bg-[#1e1e2e] shadow-[5px_5px_10px_rgba(0,0,0,0.4),-5px_-5px_10px_rgba(30,30,46,0.8)] border-none rounded-lg p-4">
  卡片内容
</div>

// 拟态浅色主题卡片
<div className="bg-[#e0e5ec] shadow-[5px_5px_10px_rgba(163,177,198,0.6),-5px_-5px_10px_rgba(255,255,255,1)] border-none rounded-lg p-4">
  卡片内容
</div>
```

### 8.2 输入框组件

```typescript
// 拟态深色主题输入框
<input className="bg-[#1e1e2e] shadow-[inset_2px_2px_4px_rgba(0,0,0,0.4),inset_-2px_-2px_4px_rgba(30,30,46,0.8)] border-none rounded-lg p-2 text-zinc-300">

// 拟态浅色主题输入框
<input className="bg-[#e0e5ec] shadow-[inset_2px_2px_4px_rgba(163,177,198,0.6),inset_-2px_-2px_4px_rgba(255,255,255,1)] border-none rounded-lg p-2 text-slate-700">
```

### 8.3 按钮组件

```typescript
// 拟态深色主题按钮
<button className="bg-[#1e1e2e] shadow-[5px_5px_10px_rgba(0,0,0,0.4),-5px_-5px_10px_rgba(30,30,46,0.8)] border-none text-blue-400 hover:shadow-[3px_3px_6px_rgba(0,0,0,0.3),-3px_-3px_6px_rgba(30,30,46,0.7)] active:shadow-[inset_2px_2px_4px_rgba(0,0,0,0.4),inset_-2px_-2px_4px_rgba(30,30,46,0.8)] rounded-full transition-all duration-200">
  按钮
</button>

// 拟态浅色主题按钮
<button className="bg-[#e0e5ec] shadow-[5px_5px_10px_rgba(163,177,198,0.6),-5px_-5px_10px_rgba(255,255,255,1)] border-none text-blue-600 hover:shadow-[3px_3px_6px_rgba(163,177,198,0.6),-3px_-3px_6px_rgba(255,255,255,1)] active:shadow-[inset_2px_2px_4px_rgba(163,177,198,0.6),inset_-2px_-2px_4px_rgba(255,255,255,1)] rounded-full transition-all duration-200">
  按钮
</button>
```

## 9. 最佳实践

1. 始终使用 `getStyleByTheme` 等辅助函数来获取样式，避免直接硬编码样式类名
2. 在组件中检查主题类型时，使用 `theme.startsWith('neomorphic')` 和 `theme.includes('dark')` 来判断
3. 保持组件样式的一致性，尽量使用统一的样式常量
4. 在添加新组件时，确保其样式符合当前主题的设计原则
5. 测试所有主题下的组件显示效果，确保在不同主题下都能正常显示

## 10. 未来规划

1. 支持更多主题变体
2. 允许用户自定义主题颜色
3. 提供主题预览功能
4. 优化主题切换的性能
5. 增加更多的样式组件和辅助函数

通过遵循上述设计原则和实现方式，可以确保整个应用的视觉风格保持一致，给用户带来良好的视觉体验。