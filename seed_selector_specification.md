# 沉浸式番茄钟种子选择器构造规范

## 1. 概述

本文档基于`3D_models_documentation.md`，为沉浸式番茄钟全屏模式中的种子选择器提供详细的构造规范。种子选择器应展示20种植物和动物模型，允许用户点击选择，并在屏幕中心实时预览所选模型。

## 2. 种子选择器布局要求

### 2.1 整体布局
- **位置**: 屏幕右侧
- **尺寸**: 宽度约250px，高度自适应内容
- **背景**: 使用与主题匹配的半透明背景
- **边框**: 圆角矩形边框，带有轻微阴影效果
- **滚动**: 当内容超出可视区域时，允许垂直滚动

### 2.2 分类标题
- **植物类标题**: 显示"🌿 植物类"，位于植物列表顶部
- **动物类标题**: 显示"🐾 动物类"，位于动物列表顶部，与植物列表间隔约16px
- **样式**: 加粗文字，颜色略深于正文，下方带有分隔线

### 2.3 种子选项
- **布局**: 垂直排列，每个选项占一行
- **尺寸**: 高度约50px，宽度充满容器
- **间距**: 选项之间间距约8px
- **选中状态**: 选中的选项应有明显的视觉反馈（如背景色变化、边框高亮）
- **悬停效果**: 鼠标悬停时，选项背景色轻微变化

### 2.4 种子选项内容
- **图标**: 左侧显示对应的emoji图标，尺寸约24px
- **名称**: 右侧显示种子名称，文字居中对齐
- **布局**: 图标与名称之间有适当间距

## 3. 植物种子构造规范

### 3.1 松树 (pine) 🌲
- **ID**: `pine`
- **图标**: 🌲
- **名称**: 松树
- **模型结构**:
  - 树干：圆柱体（半径0.2→0.4，高度1.2，分段12）
  - 树叶：3个圆锥体叠加，大小递减
- **材质颜色**:
  - 树干：#5c4033
  - 树叶：#2d6a4f
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.2 橡树 (oak) 🌳
- **ID**: `oak`
- **图标**: 🌳
- **名称**: 橡树
- **模型结构**:
  - 树干：圆柱体（半径0.3→0.5，高度1.5，分段12）
  - 树冠：二十面体（半径1.6，细分2）
- **材质颜色**:
  - 树干：#5c4033
  - 树冠：#4ade80
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.3 樱花 (cherry) 🌸
- **ID**: `cherry`
- **图标**: 🌸
- **名称**: 樱花
- **模型结构**:
  - 与橡树相同结构
  - 树冠颜色为粉色
- **材质颜色**:
  - 树干：#5c4033
  - 树冠：#fbcfe8
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.4 垂柳 (willow) 🌿
- **ID**: `willow`
- **图标**: 🌿
- **名称**: 垂柳
- **模型结构**:
  - 树干：圆柱体（半径0.2→0.4，高度2，分段12）
  - 顶部：二十面体（半径1.2，细分2）
  - 8个下垂树枝：圆锥体（半径0.2，高度1.5，分段8）
- **材质颜色**:
  - 树干：#5c4033
  - 树叶和树枝：#86efac
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.5 竹子 (bamboo) 🎋
- **ID**: `bamboo`
- **图标**: 🎋
- **名称**: 竹子
- **模型结构**:
  - 3个独立竹竿，随机高度（2-3）
  - 每个竹竿：圆柱体（半径0.1→0.15，分段8）
  - 呈三角形分布，略微倾斜
- **材质颜色**: #84cc16
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.6 椰树 (palm) 🌴
- **ID**: `palm`
- **图标**: 🌴
- **名称**: 椰树
- **模型结构**:
  - 树干：圆柱体（半径0.15→0.25，高度3.5，分段8），略微倾斜
  - 8片叶子：长方体（0.2×1.5×0.05），呈放射状分布
- **材质颜色**:
  - 树干：#5c4033
  - 叶子：#15803d
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.7 仙人掌 (cactus) 🌵
- **ID**: `cactus`
- **图标**: 🌵
- **名称**: 仙人掌
- **模型结构**:
  - 主体：圆柱体（半径0.4，高度2，分段12）
  - 顶部：二十面体（半径0.4，细分2）
  - 3个手臂：圆柱体（半径0.2→0.25，高度0.8，分段8），呈放射状分布
- **材质颜色**: #16a34a
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.8 巨菇 (mushroom) 🍄
- **ID**: `mushroom`
- **图标**: 🍄
- **名称**: 巨菇
- **模型结构**:
  - 菌柄：圆柱体（半径0.3→0.4，高度1，分段12）
  - 菌盖：圆锥体（半径1.5，高度1，分段16）
  - 5个白色斑点：二十面体（半径0.2，细分2），随机分布
- **材质颜色**:
  - 菌柄：#ffedd5
  - 菌盖：#ff4757
  - 斑点：#ffffff
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.9 向日葵 (sunflower) 🌻
- **ID**: `sunflower`
- **图标**: 🌻
- **名称**: 向日葵
- **模型结构**:
  - 茎：圆柱体（半径0.1，高度2.5，分段8）
  - 花盘：圆柱体（半径0.8，高度0.1，分段16）
  - 花盘中心：圆柱体（半径0.3，高度0.15，分段12）
  - 12片花瓣：长方体（0.3×0.05×0.8），呈放射状分布
- **材质颜色**:
  - 茎：#4ade80
  - 花盘和花瓣：#fbbf24
  - 中心：#78350f
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

### 3.10 白桦 (birch) 🪵
- **ID**: `birch`
- **图标**: 🪵
- **名称**: 白桦
- **模型结构**:
  - 树干：圆柱体（半径0.2→0.3，高度3，分段12）
  - 5个黑色斑点：长方体（0.21×0.1×0.1），随机分布
  - 树冠：二十面体（半径1.5，细分2）
- **材质颜色**:
  - 树干：#f1f5f9
  - 斑点：#1e293b
  - 树冠：#fcd34d
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)

## 4. 动物种子构造规范

### 4.1 赤狐 (fox) 🦊
- **ID**: `fox`
- **图标**: 🦊
- **名称**: 赤狐
- **模型结构**:
  - 身体：长方体（0.5×0.4×0.8）
  - 头部：圆锥体（半径0.35，高度0.6，分段8）
  - 耳朵：2个长方体（0.15×0.2×0.1）
  - 尾巴：长方体（0.3×0.3×0.7）
- **材质颜色**:
  - 主体：#f97316
  - 耳朵：#1f2937
  - 尾巴：#d97706
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 轻微的呼吸动画

### 4.2 白兔 (rabbit) 🐰
- **ID**: `rabbit`
- **图标**: 🐰
- **名称**: 白兔
- **模型结构**:
  - 身体：二十面体（半径0.4，细分3）
  - 头部：二十面体（半径0.25，细分3）
  - 耳朵：2个长方体（0.1×0.5×0.1）
  - 眼睛：2个长方体（0.05×0.05×0.05）
- **材质颜色**:
  - 主体：#ffffff
  - 眼睛：#1f2937
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 耳朵轻微摆动

### 4.3 熊猫 (panda) 🐼
- **ID**: `panda`
- **图标**: 🐼
- **名称**: 熊猫
- **模型结构**:
  - 身体：长方体（0.7×0.6×1.0）
  - 头部：长方体（0.5×0.4×0.4）
  - 耳朵：2个长方体（0.15×0.15×0.1）
  - 眼睛：2个长方体（0.15×0.15×0.1）
  - 四肢：4个长方体（0.2×0.3×0.2）
- **材质颜色**:
  - 主体：#ffffff
  - 耳朵、眼睛、四肢：#1f2937
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 缓慢的摇摆动画

### 4.4 小猪 (pig) 🐷
- **ID**: `pig`
- **图标**: 🐷
- **名称**: 小猪
- **模型结构**:
  - 身体：二十面体（半径0.5，细分3）
  - 头部：长方体（0.4×0.4×0.4）
  - 鼻子：长方体（0.2×0.15×0.15）
  - 眼睛：2个长方体（0.08×0.08×0.08）
- **材质颜色**:
  - 主体：#fbcfe8
  - 鼻子：#f9a8d4
  - 眼睛：#1f2937
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 鼻子轻微抖动

### 4.5 小鸡 (chick) 🐤
- **ID**: `chick`
- **图标**: 🐤
- **名称**: 小鸡
- **模型结构**:
  - 身体：二十面体（半径0.3，细分3）
  - 嘴巴：圆锥体（半径0.05，高度0.1，分段8）
  - 眼睛：2个球体（半径0.06，分段8）
  - 鸡冠：长方体（0.1×0.15×0.05）
- **材质颜色**:
  - 主体：#facc15
  - 嘴巴：#f97316
  - 眼睛：#1f2937
  - 鸡冠：#ef4444
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 翅膀轻微扇动

### 4.6 企鹅 (penguin) 🐧
- **ID**: `penguin`
- **图标**: 🐧
- **名称**: 企鹅
- **模型结构**:
  - 身体：圆柱体（半径0.25→0.35，高度0.9，分段12）
  - 腹部：圆柱体（半径0.2→0.3，高度0.8，分段12）
  - 嘴巴：圆锥体（半径0.1，高度0.2，分段8）
  - 眼睛：2个球体（半径0.06，分段8）
  - 眼珠：2个球体（半径0.03，分段8）
- **材质颜色**:
  - 身体：#1f2937
  - 腹部：#ffffff
  - 嘴巴：#facc15
  - 眼睛：#ffffff
  - 眼珠：#1f2937
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 左右摇摆

### 4.7 青蛙 (frog) 🐸
- **ID**: `frog`
- **图标**: 🐸
- **名称**: 青蛙
- **模型结构**:
  - 身体：二十面体（半径0.3，细分3）
  - 眼睛：2个球体（半径0.15，分段12）
  - 眼珠：2个球体（半径0.06，分段8）
  - 嘴巴：长方体（0.2×0.05×0.2）
- **材质颜色**:
  - 身体：#4ade80
  - 眼睛：#ffffff
  - 眼珠：#1f2937
  - 嘴巴：#f97316
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 眼睛转动

### 4.8 蜜蜂 (bee) 🐝
- **ID**: `bee`
- **图标**: 🐝
- **名称**: 蜜蜂
- **模型结构**:
  - 身体：二十面体（半径0.25，细分3）
  - 条纹：3个圆环（半径0.26，厚度0.05，分段8）
  - 翅膀：2个平面（0.4×0.2），半透明
- **材质颜色**:
  - 身体：#facc15
  - 条纹：#000000
  - 翅膀：半透明#ffffff
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 翅膀快速扇动

### 4.9 绵羊 (sheep) 🐑
- **ID**: `sheep`
- **图标**: 🐑
- **名称**: 绵羊
- **模型结构**:
  - 身体：二十面体（半径0.5，细分3）
  - 羊毛：12个球体（半径0.1，分段6），分布在身体周围
  - 头部：长方体（0.3×0.3×0.35）
  - 耳朵：2个长方体（0.1×0.15×0.05）
- **材质颜色**:
  - 主体和羊毛：#ffffff
  - 头部和耳朵：#1f2937
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 羊毛轻微飘动

### 4.10 棕熊 (bear) 🐻
- **ID**: `bear`
- **图标**: 🐻
- **名称**: 棕熊
- **模型结构**:
  - 身体：长方体（0.7×0.6×1.0）
  - 头部：长方体（0.5×0.4×0.4）
  - 耳朵：2个长方体（0.2×0.2×0.1）
  - 鼻子：长方体（0.2×0.15×0.15）
  - 眼睛：2个球体（半径0.08，分段8）
  - 眼珠：2个球体（半径0.04，分段8）
- **材质颜色**:
  - 主体：#78350f
  - 耳朵和鼻子：#374151
  - 眼睛：#ffffff
  - 眼珠：#1f2937
- **预览效果**: 模型放大2倍，位于屏幕中心(0, 3, 0)
- **动画效果**: 缓慢的呼吸动画

## 5. 预览区域规范

### 5.1 位置和尺寸
- **位置**: 屏幕正中心
- **坐标**: (0, 3, 0)（Three.js坐标系）
- **缩放**: 预览模型放大2倍
- **可见性**: 仅在非专注状态下显示

### 5.2 实时更新
- **触发条件**: 当用户点击种子选择器中的任何种子时
- **更新速度**: 立即更新，无明显延迟
- **过渡效果**: 平滑的淡出淡入效果（可选）

### 5.3 模型质量
- **使用模型**: 与场景中相同的精致Low Poly模型
- **材质**: 保持与场景模型相同的材质和颜色
- **阴影**: 启用阴影投射和接收，增强真实感

## 6. 交互规范

### 6.1 点击行为
- **选择效果**: 点击种子后，该种子变为选中状态
- **预览更新**: 立即更新中心预览模型
- **状态保存**: 记住用户的选择，直到再次切换

### 6.2 键盘导航
- **支持方向键**: 允许使用上下方向键导航种子列表
- **支持回车确认**: 按下回车键选择当前高亮的种子
- **焦点管理**: 清晰的焦点指示器

### 6.3 触摸支持
- **触摸反馈**: 触摸种子时有明显的视觉反馈
- **滑动支持**: 支持上下滑动浏览种子列表

## 7. 性能优化

### 7.1 模型加载
- **懒加载**: 仅在需要时加载模型资源
- **缓存机制**: 缓存已加载的模型，避免重复加载
- **LOD**: 预览模型使用适当的细节级别

### 7.2 渲染优化
- **阴影优化**: 合理设置阴影质量和距离
- **材质共享**: 共享相同材质的模型使用同一材质实例
- **批处理**: 对静态模型进行批处理渲染

## 8. 测试要求

### 8.1 功能测试
- 所有种子均可点击选择
- 预览模型实时更新
- 选中状态正确显示
- 分类标题正确显示

### 8.2 性能测试
- 种子选择器加载时间 < 500ms
- 预览模型更新时间 < 200ms
- 内存占用稳定，无内存泄漏

### 8.3 兼容性测试
- 支持不同屏幕尺寸
- 支持触摸设备
- 支持键盘导航

## 9. 代码实现规范

### 9.1 组件结构
- **模块化设计**: 将种子选择器拆分为多个可复用组件
- **状态管理**: 使用React状态管理种子选择
- **Three.js集成**: 正确集成Three.js场景和模型

### 9.2 命名规范
- **组件命名**: 使用驼峰命名法，如`SeedSelector`
- **变量命名**: 清晰描述功能，如`currentSelectedSeed`
- **CSS类名**: 使用BEM命名规范

### 9.3 注释要求
- 关键逻辑添加注释
- 组件API文档
- 模型加载流程注释

## 10. 验收标准

1. ✅ 种子选择器正确显示20种植物和动物
2. ✅ 点击种子后，中心预览模型实时更新
3. ✅ 种子选择器具有良好的视觉效果和交互体验
4. ✅ 性能符合要求，无明显卡顿
5. ✅ 支持键盘和触摸导航
6. ✅ 代码结构清晰，符合规范

## 11. 后续维护

- 定期更新模型资源
- 根据用户反馈优化交互体验
- 支持添加新的种子类型
- 优化性能和加载速度

---

本规范基于`3D_models_documentation.md`，确保种子选择器与3D模型保持一致。在实现过程中，如有任何疑问或需要调整，请参考原始3D模型文档或与设计团队沟通。