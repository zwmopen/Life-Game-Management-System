<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>木桶效应 (深挖)</title>
  <style>
    /* CSS 变量定义 - 浅色主题 */
    :root {
      --bg: #f8fafc;
      --card-bg: #ffffff;
      --primary-color: #ef4444;
      --secondary-color: #f87171;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-color: #e2e8f0;
      --border-radius: 16px;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* CSS 变量定义 - 深色主题 */
    [data-theme="dark"] {
      --bg: #1a1b1e;
      --card-bg: #2d3748;
      --primary-color: #f87171;
      --secondary-color: #f87171;
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --border-color: #334155;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-sans);
      background-color: var(--bg);
      color: var(--text-primary);
      line-height: 1.6;
      transition: var(--transition);
      padding: 2rem;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .container {
      max-width: 1000px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .image-section {
      width: 100%;
      margin-bottom: 2rem;
      padding: 2rem;
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .text-section {
      width: 100%;
      padding: 2rem;
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 800;
      color: var(--text-primary);
      margin-bottom: 1.5rem;
      line-height: 1.2;
      text-align: center;
    }

    h2 {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      font-weight: 700;
      color: var(--text-primary);
      margin: 2rem 0 1rem;
      text-align: center;
    }

    h3 {
      font-size: clamp(1.25rem, 3vw, 1.75rem);
      font-weight: 700;
      color: var(--text-primary);
      margin: 1.5rem 0 1rem;
    }

    p {
      font-size: clamp(1rem, 2vw, 1.125rem);
      color: var(--text-secondary);
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }

    ul {
      list-style: none;
      margin-bottom: 1.5rem;
    }

    li {
      font-size: clamp(0.9rem, 2vw, 1rem);
      color: var(--text-secondary);
      margin-bottom: 0.75rem;
      padding-left: 1.5rem;
      position: relative;
      line-height: 1.6;
    }

    li:before {
      content: '•';
      position: absolute;
      left: 0;
      color: var(--primary-color);
      font-weight: bold;
    }

    li strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .grid > div {
      background-color: var(--bg);
      padding: 1.5rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
      border: 1px solid var(--border-color);
    }

    .grid > div:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    svg {
      width: 100%;
      height: auto;
      max-width: 100%;
      filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
      transition: var(--transition);
    }

    .animate-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }
      
      .image-section,
      .text-section {
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }
      
      .grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      h2 {
        font-size: 1.75rem;
      }
      
      h3 {
        font-size: 1.25rem;
      }
      
      p,
      li {
        font-size: 0.95rem;
      }
    }

    @media (max-width: 480px) {
      .image-section,
      .text-section {
        padding: 1rem;
      }
      
      h1 {
        font-size: 1.75rem;
      }
      
      h2 {
        font-size: 1.5rem;
      }
      
      h3 {
        font-size: 1.125rem;
      }
      
      p,
      li {
        font-size: 0.9rem;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="image-section">
      <svg viewBox="0 0 1000 600">
        <!-- 管道主干 -->
        <path d="M100,300 L400,300" stroke="var(--text-primary)" stroke-width="80" opacity="0.05" stroke-linecap="round" />
        <path d="M600,300 L900,300" stroke="var(--text-primary)" stroke-width="80" opacity="0.05" stroke-linecap="round" />
        
        <!-- 瓶颈短板 (缩窄处) -->
        <g transform="translate(500, 300)">
          <path d="M-100,-40 L100,-15 L100,15 L-100,40 Z" fill="var(--primary-color)" fill-opacity="0.1" stroke="var(--primary-color)" stroke-width="2" stroke-dasharray="5 5" />
          <rect x="-10" y="-40" width="20" height="80" fill="var(--primary-color)" class="animate-pulse" />
          <text y="70" text-anchor="middle" fill="var(--primary-color)" style="font-size: 14px; font-weight: 900;">瓶颈节点 (THE LIMIT)</text>
        </g>

        <!-- 动态流体 -->
        <g>
          <!-- 下游稀疏流 -->
          <rect x="600" y="295" width="300" height="10" fill="var(--primary-color)" opacity="0.3" />
          <!-- 上游拥堵流 -->
          <rect x="100" y="270" width="300" height="60" fill="var(--primary-color)" opacity="0.1" />
          <circle cx="250" cy="300" r="10" fill="var(--primary-color)" opacity="0.8">
             <animate attributeName="cx" from="100" to="490" dur="1s" repeatCount="indefinite" />
             <animate attributeName="opacity" values="1;0" dur="1s" repeatCount="indefinite" />
          </circle>
        </g>

        <text x="500" y="550" text-anchor="middle" fill="var(--text-secondary)" opacity="0.3" style="font-size: 12px; font-weight: 900; letter-spacing: 0.5em;">THROUGHPUT IS DETERMINED BY THE BOTTLENECK</text>
      </svg>
    </div>
    <div class="text-section">
      <h1>木桶效应 (深挖)</h1>
      <p>木桶效应的深层解读不仅关注静态的容量限制，更强调动态的系统通量（Throughput）。在任何串行系统中，整体的处理能力和效率往往由系统中的瓶颈环节决定，长板的冗余能力在短板面前毫无价值，甚至会导致系统内的拥堵和资源浪费。</p>
      
      <h3>核心原理</h3>
      <ul>
        <li><strong>瓶颈决定论</strong>：系统的整体吞吐量由最薄弱的环节决定，无论其他环节多么强大。</li>
        <li><strong>资源错配效应</strong>：在瓶颈未解决前，过度投资于非瓶颈环节会导致资源浪费和系统复杂度增加。</li>
        <li><strong>压力集中原理</strong>：系统中的所有压力和问题都会在瓶颈处集中显现，使其成为最容易损坏的环节。</li>
        <li><strong>动态平衡需求</strong>：系统需要动态调整以适应瓶颈的变化，实现整体的最优配置。</li>
      </ul>
      
      <h3>应用范围</h3>
      <ul>
        <li><strong>生产管理</strong>：制造流程中的瓶颈工序决定了整条生产线的产能。</li>
        <li><strong>软件系统</strong>：系统性能往往由最慢的组件（如数据库、网络IO）决定。</li>
        <li><strong>项目管理</strong>：项目进度由关键路径上的最长任务决定。</li>
        <li><strong>供应链管理</strong>：供应链的效率由最薄弱的环节决定。</li>
        <li><strong>个人生产力</strong>：个人的整体效率由最耗时或最不擅长的任务决定。</li>
      </ul>
      
      <h3>使用技巧</h3>
      <ul>
        <li><strong>瓶颈识别</strong>：通过系统分析和数据监控，准确识别系统中的瓶颈环节。</li>
        <li><strong>瓶颈优化</strong>：优先投资和改进瓶颈环节，以获得最大的整体效益提升。</li>
        <li><strong>能力平衡</strong>：调整非瓶颈环节的能力，使其与瓶颈环节相匹配，避免资源浪费。</li>
        <li><strong>动态调整</strong>：建立机制监控瓶颈的变化，及时调整资源配置。</li>
        <li><strong>缓冲管理</strong>：在瓶颈前后设置适当的缓冲，以减少瓶颈对整个系统的影响。</li>
      </ul>
      
      <h3>实际应用建议</h3>
      <p><strong>企业运营</strong>：通过价值流分析识别生产或服务流程中的瓶颈，集中资源解决瓶颈问题，同时调整其他环节的生产节奏以匹配瓶颈产能。</p>
      <p><strong>软件系统</strong>：使用性能分析工具识别系统瓶颈，如数据库查询、网络延迟或计算密集型操作，优先优化这些环节以提升整体系统性能。</p>
      <p><strong>项目管理</strong>：使用关键路径法识别项目中的瓶颈任务，为关键任务分配更多资源，同时调整非关键任务的时间安排以平衡项目进度。</p>
      <p><strong>个人时间管理</strong>：识别个人工作流程中的瓶颈任务，如邮件处理、会议或特定类型的工作，通过批处理、授权或技能提升来优化这些环节。</p>
      <p><strong>供应链优化</strong>：识别供应链中的瓶颈节点，如供应商、物流或库存管理，通过建立战略合作伙伴关系、优化库存水平或改进物流流程来解决瓶颈问题。</p>
      
      <h3>高级应用：TOC理论</h3>
      <p>约束理论（Theory of Constraints, TOC）是对木桶效应的深度发展，它提供了一套完整的方法来识别和管理系统中的瓶颈：</p>
      <ul>
        <li><strong>识别约束</strong>：找到系统中限制整体性能的瓶颈。</li>
        <li><strong>利用约束</strong>：最大限度地利用瓶颈资源。</li>
        <li><strong>服从约束</strong>：调整系统其他部分以支持瓶颈。</li>
        <li><strong>提升约束</strong>：投资于提升瓶颈能力。</li>
        <li><strong>持续改进</strong>：当瓶颈被解决后，寻找新的瓶颈并重复上述过程。</li>
      </ul>
    </div>
  </div>

  <script>
    // 从localStorage中读取主题设置并应用
    document.addEventListener('DOMContentLoaded', function() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', savedTheme);
    });

    // 监听主题切换事件
    window.addEventListener('themeChange', function(event) {
      const newTheme = event.detail.theme;
      document.body.setAttribute('data-theme', newTheme);
    });
  </script>
</body>
</html>
