{"version":3,"file":"ThinkingCenter-BE9Dm1QH.js","sources":["../../../components/ThinkingCenter.tsx"],"sourcesContent":["import React, { useState, useMemo, Suspense, lazy, useEffect } from 'react';\nimport { Theme } from '../types';\nimport { Search, BookOpen, Settings, ChevronLeft, ChevronRight } from 'lucide-react';\nimport thinkingModels from './thinkingModels.json';\nimport { GlobalHelpButton } from './HelpSystem';\nimport { getNeomorphicStyles, getCardBgStyle, getTextStyle } from '../utils/styleHelpers';\n\ninterface ThinkingCenterProps {\n  theme: Theme;\n  onHelpClick?: (helpId: string) => void;\n}\n\n// HTML sanitization function to filter unsafe content\nconst sanitizeHtml = (html: string): string => {\n  if (!html) return '';\n  \n  let sanitized = html;\n  \n  // Remove script tags completely, including theme-related scripts\n  sanitized = sanitized.replace(/<script[^>]*>.*?<\\/script>/gi, '');\n  \n  // Process style tags to remove theme-related CSS variables and ensure compatibility\n  sanitized = sanitized.replace(/<style[^>]*>([\\s\\S]*?)<\\/style>/gi, (match, styleContent) => {\n    // Remove theme-related CSS variables and rules\n    let processedStyle = styleContent;\n    \n    // Remove CSS variables for theme colors\n    processedStyle = processedStyle.replace(/:root\\s*\\{[\\s\\S]*?\\}/gi, '');\n    processedStyle = processedStyle.replace(/\\[data-theme=\"dark\"\\]\\s*\\{[\\s\\S]*?\\}/gi, '');\n    processedStyle = processedStyle.replace(/\\[data-theme=\"light\"\\]\\s*\\{[\\s\\S]*?\\}/gi, '');\n    \n    // Remove any references to CSS variables\n    processedStyle = processedStyle.replace(/var\\(--[^)]+\\)/g, 'inherit');\n    \n    // Remove background-color and color properties that might conflict with the theme\n    processedStyle = processedStyle.replace(/background-color\\s*:\\s*[^;]+;/gi, '');\n    processedStyle = processedStyle.replace(/color\\s*:\\s*[^;]+;/gi, '');\n    processedStyle = processedStyle.replace(/background\\s*:\\s*[^;]+;/gi, '');\n    \n    // Remove any remaining empty style blocks\n    if (processedStyle.trim()) {\n      return `<style>${processedStyle}</style>`;\n    }\n    return '';\n  });\n  \n  // Remove all event handlers\n  sanitized = sanitized.replace(/\\s+(on\\w+)\\s*=\\s*[\"']?[^\"'>\\s]+[\"']?/gi, '');\n  \n  // Allow only safe HTML tags including style tag\n  const allowedTags = ['div', 'span', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'ul', 'ol', 'li', 'strong', 'em', 'b', 'i', 'a', 'img', 'svg', 'g', 'path', 'circle', 'rect', 'line', 'text', 'animate', 'animateMotion', 'animateTransform', 'defs', 'marker', 'style'];\n  const tagRegex = new RegExp(`<\\/?(?!(${allowedTags.join('|')}))\\w+[^>]*>`, 'gi');\n  sanitized = sanitized.replace(tagRegex, '');\n  \n  // Allow only safe attributes\n  const allowedAttributes = ['class', 'id', 'src', 'href', 'alt', 'title', 'width', 'height', 'viewBox', 'transform', 'fill', 'stroke', 'stroke-width', 'stroke-dasharray', 'stroke-linecap', 'text-anchor', 'dominant-baseline', 'opacity', 'style', 'x', 'y', 'cx', 'cy', 'r', 'rx', 'ry', 'd', 'points', 'x1', 'y1', 'x2', 'y2'];\n  const attributeRegex = new RegExp(`\\s+(?!(${allowedAttributes.join('|')}))\\w+\\s*=\\s*[\"']?[^\"'>\\s]+[\"']?`, 'gi');\n  sanitized = sanitized.replace(attributeRegex, '');\n  \n  // Remove any remaining unsafe characters\n  sanitized = sanitized.replace(/&lt;/g, '<').replace(/&gt;/g, '>');\n  \n  return sanitized;\n};\n\n// Error boundary component to handle model parsing errors\n// Simple error handling wrapper for dangerouslySetInnerHTML\nconst ModelErrorBoundary = ({ children, fallback }: {\n  children: React.ReactNode;\n  fallback: React.ReactNode;\n}) => {\n  try {\n    return <>{children}</>;\n  } catch (error) {\n    console.error('Model rendering error:', error);\n    return <>{fallback}</>;\n  }\n};\n\n// Button component without drag and drop functionality\nconst ModelButton = ({ children, onClick, isActive, theme, isFavorite }: { children: React.ReactNode; onClick: () => void; isActive: boolean; theme: 'light' | 'dark' | 'neomorphic-light' | 'neomorphic-dark'; isFavorite: boolean } & React.HTMLAttributes<HTMLButtonElement>) => {\n  const isDark = theme.includes('dark');\n  const isNeomorphic = theme.startsWith('neomorphic');\n  const isNeomorphicDark = theme === 'neomorphic-dark';\n  \n  // 拟态风格按钮样式 - 统一宽度圆角版\n  const getButtonClass = () => {\n    // 统一基础样式：固定高度，统一内边距，圆角拉满\n    // 确保按钮宽度一致，内容居中显示\n    const baseClass = 'px-1 py-0.5 h-8 rounded-full text-xs font-medium transition-all duration-200 ease-in-out flex items-center justify-center border border-transparent gap-0.25 overflow-hidden whitespace-nowrap';\n    \n    // 根据主题和状态确定具体样式\n    if (isNeomorphic) {\n      if (isNeomorphicDark) {\n        // 拟态暗色主题\n        if (isActive) {\n          // 选中状态 - 内凹效果\n          return `${baseClass} bg-[#1e1e2e] text-white shadow-[inset_2px_2px_4px_rgba(0,0,0,0.6),inset_-2px_-2px_4px_rgba(30,30,46,0.8)] transform scale-95`;\n        } else {\n          // 默认状态 - 外凸效果\n          return `${baseClass} bg-[#1e1e2e] text-zinc-300 shadow-[2px_2px_4px_rgba(0,0,0,0.4),-2px_-2px_4px_rgba(30,30,46,0.8)] hover:shadow-[3px_3px_6px_rgba(0,0,0,0.5),-3px_-3px_6px_rgba(30,30,46,1)] active:shadow-[inset_2px_2px_4px_rgba(0,0,0,0.6),inset_-2px_-2px_4px_rgba(30,30,46,0.8)] active:transform active:scale-95`;\n        }\n      } else {\n        // 拟态亮色主题\n        if (isActive) {\n          // 选中状态 - 内凹效果\n          return `${baseClass} bg-[#e0e5ec] text-zinc-800 shadow-[inset_2px_2px_4px_rgba(163,177,198,0.6),inset_-2px_-2px_4px_rgba(255,255,255,1)] transform scale-95`;\n        } else {\n          // 默认状态 - 外凸效果\n          return `${baseClass} bg-[#e0e5ec] text-zinc-700 shadow-[2px_2px_4px_rgba(163,177,198,0.3),-2px_-2px_4px_rgba(255,255,255,0.8)] hover:shadow-[3px_3px_6px_rgba(163,177,198,0.4),-3px_-3px_6px_rgba(255,255,255,0.9)] active:shadow-[inset_2px_2px_4px_rgba(163,177,198,0.6),inset_-2px_-2px_4px_rgba(255,255,255,1)] active:transform active:scale-95`;\n        }\n      }\n    } else {\n      // 普通主题\n      if (isActive) {\n        return `${baseClass} bg-blue-500 text-white border-blue-500 hover:bg-blue-600`;\n      } else {\n        if (isDark) {\n          return `${baseClass} bg-zinc-800 text-zinc-200 border-zinc-700 hover:bg-zinc-700`;\n        } else {\n          return `${baseClass} bg-white text-gray-800 border-slate-300 hover:bg-slate-100`;\n        }\n      }\n    }\n  };\n  \n  // 收藏图标组件 - 优化尺寸\n  const HeartIcon = () => {\n    return (\n      <svg \n        xmlns=\"http://www.w3.org/2000/svg\" \n        width=\"12\" \n        height=\"12\" \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        stroke=\"currentColor\" \n        strokeWidth=\"2\" \n        strokeLinecap=\"round\" \n        strokeLinejoin=\"round\"\n        className={isFavorite ? 'text-red-500 fill-red-500' : 'text-zinc-500 flex-shrink-0'}\n      >\n        <path d=\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\" />\n      </svg>\n    );\n  };\n  \n  return (\n    <button\n      onClick={onClick}\n      className={getButtonClass()}\n    >\n      <span className=\"flex items-center\">{children}</span>\n      <HeartIcon />\n    </button>\n  );\n};\n\nconst ThinkingCenter: React.FC<ThinkingCenterProps> = ({ theme = 'neomorphic-light', onHelpClick }) => {\n  // 确保主题始终有效\n  const validTheme = ['neomorphic-light', 'neomorphic-dark'].includes(theme) ? theme : 'neomorphic-light';\n  \n  const isDark = validTheme.includes('dark');\n  const isNeomorphic = validTheme.startsWith('neomorphic');\n  \n  const isNeomorphicDark = validTheme === 'neomorphic-dark';\n  const neomorphicStyles = getNeomorphicStyles(isNeomorphicDark);\n  \n  // Theme-specific styles\n  const bgClass = isDark \n    ? (isNeomorphic ? 'bg-[#1e1e2e]' : 'bg-zinc-950') \n    : (isNeomorphic ? 'bg-[#e0e5ec]' : 'bg-slate-50');\n  \n  const cardBg = getCardBgStyle(isNeomorphic, validTheme, isDark);\n\n  // 将字体颜色统一设置为黑色或白色，确保可读性\n  const textMain = getTextStyle(isDark, isNeomorphic, 'main');\n  const textSub = getTextStyle(isDark, isNeomorphic, 'sub');\n  \n  // 简化布局：移除复杂的宽度计算，使用更稳定的flex布局\n\n  // 生成搜索框样式类\n  const getSearchInputClass = () => {\n    const baseClass = 'w-full px-4 py-2 pr-10 rounded-[24px] text-sm border transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50';\n    \n    if (isNeomorphic) {\n      if (validTheme === 'neomorphic-dark') {\n        // 暗色拟态主题\n        return `${baseClass} bg-[#1e1e2e] border-[#1e1e2e] text-white placeholder-white/50 shadow-[inset_2px_2px_4px_rgba(0,0,0,0.4),inset_-2px_-2px_4px_rgba(30,30,46,0.8)] hover:shadow-[inset_3px_3px_6px_rgba(0,0,0,0.5),inset_-3px_-3px_6px_rgba(30,30,46,1)]`;\n      } else {\n        // 亮色拟态主题\n        return `${baseClass} bg-[#e0e5ec] border-[#e0e5ec] text-black placeholder-black/50 shadow-[inset_2px_2px_4px_rgba(163,177,198,0.3),inset_-2px_-2px_4px_rgba(255,255,255,0.8)] hover:shadow-[inset_3px_3px_6px_rgba(163,177,198,0.4),inset_-3px_-3px_6px_rgba(255,255,255,0.9)]`;\n      }\n    } else {\n      // 非拟态主题\n      if (isDark) {\n        return `${baseClass} bg-zinc-900 border-zinc-800 text-white placeholder-zinc-500 shadow-[2px_2px_4px_rgba(0,0,0,0.4),-2px_-2px_4px_rgba(30,30,46,0.8)] hover:shadow-[3px_3px_6px_rgba(0,0,0,0.5),-3px_-3px_6px_rgba(30,30,46,1)]`;\n      } else {\n        return `${baseClass} bg-white border-slate-300 text-black placeholder-gray-500 shadow-[2px_2px_4px_rgba(163,177,198,0.2),-2px_-2px_4px_rgba(255,255,255,0.8)] hover:shadow-[3px_3px_6px_rgba(163,177,198,0.3),-3px_-3px_6px_rgba(255,255,255,0.9)]`;\n      }\n    }\n  };\n\n  // 修复文本编码问题的工具函数\n  const fixEncoding = React.useCallback((text: string): string => {\n    if (!text) return text;\n    try {\n      // 处理URL编码问题\n      return decodeURIComponent(encodeURIComponent(text));\n    } catch (error) {\n      console.error('Error fixing encoding:', error);\n      return text;\n    }\n  }, []);\n\n  // 修复模型数据编码的函数\n  const fixModelEncoding = React.useCallback((model: typeof thinkingModels[0]) => {\n    return {\n      ...model,\n      label: fixEncoding(model.label),\n      description: fixEncoding(model.description),\n      deepAnalysis: fixEncoding(model.deepAnalysis),\n      principle: fixEncoding(model.principle),\n      scope: fixEncoding(model.scope),\n      tips: fixEncoding(model.tips),\n      practice: fixEncoding(model.practice),\n      scenario: fixEncoding(model.scenario)\n    };\n  }, [fixEncoding]);\n\n  // State management\n  const [activeModel, setActiveModel] = useState<string>(thinkingModels[0]?.id || '');\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  const [viewCounts, setViewCounts] = useState<Record<string, number>>(() => {\n    // 初始化查看次数，所有模型初始为0\n    const initialCounts: Record<string, number> = {};\n    thinkingModels.forEach(model => {\n      initialCounts[model.id] = 0;\n    });\n    return initialCounts;\n  });\n  \n  // 收藏状态管理\n  const [favorites, setFavorites] = useState<Set<string>>(() => {\n    // 从本地存储加载收藏状态\n    const saved = localStorage.getItem('aes-thinking-favorites');\n    if (saved) {\n      try {\n        return new Set(JSON.parse(saved));\n      } catch (e) {\n        console.error('Failed to load favorites from localStorage:', e);\n      }\n    }\n    return new Set<string>();\n  });\n  \n  // 用于存储上一次点击的模型ID，实现延迟更新查看次数\n  const [previousModel, setPreviousModel] = useState<string | null>(null);\n  \n  // 用于实现三击收藏功能的状态\n  const [clickCount, setClickCount] = useState<Record<string, number>>({});\n  const [clickTimeout, setClickTimeout] = useState<Record<string, NodeJS.Timeout>>({});\n  \n  // 保存收藏状态到本地存储\n  useEffect(() => {\n    localStorage.setItem('aes-thinking-favorites', JSON.stringify(Array.from(favorites)));\n  }, [favorites]);\n  \n  // Handle model click event with triple-click favorite functionality\n  const handleModelClick = (modelId: string) => {\n    // 更新当前激活的模型\n    setActiveModel(modelId);\n    \n    // 如果不是第一次点击，并且点击的是不同的模型，则更新上一次模型的查看次数\n    if (previousModel && previousModel !== modelId) {\n      setViewCounts(prevCounts => ({\n        ...prevCounts,\n        [previousModel]: (prevCounts[previousModel] || 0) + 1\n      }));\n      setPreviousModel(modelId);\n    } else if (!previousModel) {\n      setPreviousModel(modelId);\n    }\n    \n    // 实现三击收藏功能\n    const currentCount = (clickCount[modelId] || 0) + 1;\n    setClickCount(prev => ({ ...prev, [modelId]: currentCount }));\n    \n    // 清除之前的定时器\n    if (clickTimeout[modelId]) {\n      clearTimeout(clickTimeout[modelId]);\n    }\n    \n    // 设置新的定时器\n    const timer = setTimeout(() => {\n      // 重置点击计数\n      setClickCount(prev => {\n        const newCounts = { ...prev };\n        delete newCounts[modelId];\n        return newCounts;\n      });\n      \n      // 清除定时器引用\n      setClickTimeout(prev => {\n        const newTimeouts = { ...prev };\n        delete newTimeouts[modelId];\n        return newTimeouts;\n      });\n    }, 500); // 500ms内点击3次才会触发收藏\n    \n    // 保存定时器引用\n    setClickTimeout(prev => ({ ...prev, [modelId]: timer }));\n    \n    // 如果点击了3次，切换收藏状态\n    if (currentCount === 3) {\n      setFavorites(prev => {\n        const newFavorites = new Set(prev);\n        if (newFavorites.has(modelId)) {\n          newFavorites.delete(modelId);\n        } else {\n          newFavorites.add(modelId);\n        }\n        return newFavorites;\n      });\n      \n      // 重置点击计数\n      setClickCount(prev => {\n        const newCounts = { ...prev };\n        delete newCounts[modelId];\n        return newCounts;\n      });\n      \n      // 清除定时器引用\n      setClickTimeout(prev => {\n        const newTimeouts = { ...prev };\n        delete newTimeouts[modelId];\n        return newTimeouts;\n      });\n    }\n  };\n\n  // 快速切换到上一个模型\n  const handlePrevModel = () => {\n    if (filteredModels.length <= 1) return;\n    const currentIndex = filteredModels.findIndex(m => m.id === activeModel);\n    // 如果当前模型不在过滤后的列表中（比如正在搜索），则跳转到第一个\n    if (currentIndex === -1) {\n      handleModelClick(filteredModels[0].id);\n      return;\n    }\n    const prevIndex = (currentIndex - 1 + filteredModels.length) % filteredModels.length;\n    handleModelClick(filteredModels[prevIndex].id);\n  };\n\n  // 快速切换到下一个模型\n  const handleNextModel = () => {\n    if (filteredModels.length <= 1) return;\n    const currentIndex = filteredModels.findIndex(m => m.id === activeModel);\n    // 如果当前模型不在过滤后的列表中，则跳转到第一个\n    if (currentIndex === -1) {\n      handleModelClick(filteredModels[0].id);\n      return;\n    }\n    const nextIndex = (currentIndex + 1) % filteredModels.length;\n    handleModelClick(filteredModels[nextIndex].id);\n  };\n  \n  // Filter and sort models based on search term and favorites, but not real-time view counts\n  const filteredModels = useMemo(() => {\n    // Filter models first\n    let models = thinkingModels;\n    if (searchTerm.trim()) {\n      const searchLower = searchTerm.toLowerCase();\n      models = thinkingModels.filter(model => \n        fixEncoding(model.label).toLowerCase().includes(searchLower) ||\n        fixEncoding(model.description).toLowerCase().includes(searchLower) ||\n        fixEncoding(model.deepAnalysis).toLowerCase().includes(searchLower)\n      );\n    }\n    \n    // Sort models by favorites status first, but not real-time view counts\n    // 1. First: all favorites\n    // 2. Then: all non-favorites\n    // Note: View counts are still recorded but not used for real-time sorting to avoid button jumping\n    const sortedModels = [...models].sort((a, b) => {\n      // 检查是否是收藏模型\n      const isAFavorite = favorites.has(a.id);\n      const isBFavorite = favorites.has(b.id);\n      \n      // 如果一个是收藏，一个不是，收藏的排在前面\n      if (isAFavorite && !isBFavorite) return -1;\n      if (!isAFavorite && isBFavorite) return 1;\n      \n      // 如果都是收藏或都不是收藏，保持原始顺序\n      // 不按实时查看次数排序，避免按钮跳动\n      return 0;\n    });\n    \n    // 修复所有模型的编码问题\n    return sortedModels.map(fixModelEncoding);\n  }, [searchTerm, favorites, fixEncoding, fixModelEncoding]);\n  \n  // Auto-select first model when search results change\n  useEffect(() => {\n    if (filteredModels.length > 0 && (!activeModel || !filteredModels.some(model => model.id === activeModel))) {\n      setActiveModel(filteredModels[0].id);\n      // 更新上一个模型，确保查看次数正确记录\n      setPreviousModel(filteredModels[0].id);\n    }\n  }, [filteredModels, activeModel]);\n\n  // Get the current active model data with error handling\n  const currentModel = useMemo(() => {\n    try {\n      const model = thinkingModels.find(model => model.id === activeModel) || thinkingModels[0] || {\n        id: 'default',\n        name: 'default',\n        label: '默认模型',\n        icon: 'BrainCircuit',\n        description: '默认思维模型',\n        deepAnalysis: '这是一个默认思维模型，用于处理错误情况。',\n        principle: '默认原则',\n        scope: '默认范围',\n        tips: '1. 这是一个默认模型',\n        practice: '使用默认模型处理错误情况',\n        visualDesign: '<div style=\"text-align: center; padding: 20px;\">默认可视化设计</div>'\n      };\n      return fixModelEncoding(model);\n    } catch (error) {\n      console.error('Error finding active model:', error);\n      // 返回一个安全的默认模型\n      return fixModelEncoding({\n        id: 'default',\n        name: 'default',\n        label: '默认模型',\n        icon: 'BrainCircuit',\n        description: '默认思维模型',\n        deepAnalysis: '这是一个默认思维模型，用于处理错误情况。',\n        principle: '默认原则',\n        scope: '默认范围',\n        tips: '1. 这是一个默认模型',\n        practice: '使用默认模型处理错误情况',\n        visualDesign: '<div style=\"text-align: center; padding: 20px;\">默认可视化设计</div>'\n      });\n    }\n  }, [activeModel, fixModelEncoding]);\n\n  return (\n    <div className={`${bgClass} min-h-screen transition-colors duration-200`}>\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex flex-col gap-6\">\n          {/* Search and Model Switcher */}\n          <div className={`${cardBg} p-5 rounded-3xl border w-full`}>\n            {/* Search Bar with Arrows and Help Button - 所有控制元素都放在同一行，自适应布局 */}\n            <div className=\"mb-3\">\n              <div className=\"relative flex items-center justify-between w-full\">\n                {/* 左侧为搜索框，自适应宽度 */}\n                <div className={`flex-1 flex items-center gap-2 px-3 py-2 rounded-full border transition-all ${isNeomorphic \n                  ? (isNeomorphicDark \n                    ? 'bg-[#1e1e2e] border-[#1e1e2e] shadow-[inset_2px_2px_4px_rgba(0,0,0,0.4),inset_-2px_-2px_4px_rgba(30,30,46,0.8)] hover:shadow-[inset_3px_3px_6px_rgba(0,0,0,0.5),inset_-3px_-3px_6px_rgba(30,30,46,1)]' \n                    : 'bg-[#e0e5ec] border-[#e0e5ec] shadow-[inset_2px_2px_4px_rgba(163,177,198,0.3),inset_-2px_-2px_4px_rgba(255,255,255,0.8)] hover:shadow-[inset_3px_3px_6px_rgba(163,177,198,0.4),inset_-3px_-3px_6px_rgba(255,255,255,0.9)]') \n                  : (isDark \n                    ? 'bg-zinc-900 border-zinc-800 shadow-[2px_2px_4px_rgba(0,0,0,0.4),-2px_-2px_4px_rgba(30,30,46,0.8)] hover:shadow-[3px_3px_6px_rgba(0,0,0,0.5),-3px_-3px_6px_rgba(30,30,46,1)]' \n                    : 'bg-white border-slate-300 shadow-[2px_2px_4px_rgba(163,177,198,0.2),-2px_-2px_4px_rgba(255,255,255,0.8)] hover:shadow-[3px_3px_6px_rgba(163,177,198,0.3),-3px_-3px_6px_rgba(255,255,255,0.9)]')\n                }`}>\n                  {/* 搜索图标 */}\n                  <Search size={18} className={textSub} />\n                  \n                  {/* 搜索输入框，添加最小宽度限制，确保在小屏幕上不会被挤得太窄 */}\n                  <input\n                    type=\"text\"\n                    placeholder=\"搜索思维模型...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className={`flex-1 min-w-[80px] bg-transparent outline-none text-sm transition-all duration-300 focus:outline-none ${isNeomorphicDark \n                      ? 'text-white placeholder-white/50' \n                      : isDark \n                        ? 'text-white placeholder-zinc-500' \n                        : 'text-black placeholder-black/50'\n                    }`}\n                  />\n                </div>\n                \n                {/* 右侧为控制按钮组：上一个模型、下一个模型、帮助按钮，按顺序排列 */}\n                <div className=\"flex items-center gap-2 ml-2 whitespace-nowrap\">\n                  <button\n                    onClick={handlePrevModel}\n                    className={`p-2 rounded-full transition-all duration-300 flex-shrink-0 ${isNeomorphic \n                      ? (isNeomorphicDark ? 'bg-[#1e1e2e] shadow-[4px_4px_8px_rgba(0,0,0,0.4),-4px_-4px_8px_rgba(30,30,46,0.8)] hover:shadow-[6px_6px_12px_rgba(0,0,0,0.5),-6px_-6px_12px_rgba(30,30,46,1)] active:shadow-[inset_4px_4px_8px_rgba(0,0,0,0.5)]' : 'bg-[#e0e5ec] shadow-[4px_4px_8px_rgba(163,177,198,0.4),-4px_-4px_8px_rgba(255,255,255,0.8)] hover:shadow-[6px_6px_12px_rgba(163,177,198,0.5),-6px_-6px_12px_rgba(255,255,255,1)] active:shadow-[inset_4px_4px_8px_rgba(163,177,198,0.5)]')\n                      : (isDark ? 'bg-zinc-800 hover:bg-zinc-700 text-white shadow-sm' : 'bg-white hover:bg-slate-100 shadow-sm')\n                    } ${isDark ? 'text-zinc-400' : 'text-slate-600'}`}\n                    title=\"上一个模型\"\n                  >\n                    <ChevronLeft size={20} />\n                  </button>\n                  \n                  <button\n                    onClick={handleNextModel}\n                    className={`p-2 rounded-full transition-all duration-300 flex-shrink-0 ${isNeomorphic \n                      ? (isNeomorphicDark ? 'bg-[#1e1e2e] shadow-[4px_4px_8px_rgba(0,0,0,0.4),-4px_-4px_8px_rgba(30,30,46,0.8)] hover:shadow-[6px_6px_12px_rgba(0,0,0,0.5),-6px_-6px_12px_rgba(30,30,46,1)] active:shadow-[inset_4px_4px_8px_rgba(0,0,0,0.5)]' : 'bg-[#e0e5ec] shadow-[4px_4px_8px_rgba(163,177,198,0.4),-4px_-4px_8px_rgba(255,255,255,0.8)] hover:shadow-[6px_6px_12px_rgba(163,177,198,0.5),-6px_-6px_12px_rgba(255,255,255,1)] active:shadow-[inset_4px_4px_8px_rgba(163,177,198,0.5)]')\n                      : (isDark ? 'bg-zinc-800 hover:bg-zinc-700 text-white shadow-sm' : 'bg-white hover:bg-slate-100 shadow-sm')\n                    } ${isDark ? 'text-zinc-400' : 'text-slate-600'}`}\n                    title=\"下一个模型\"\n                  >\n                    <ChevronRight size={20} />\n                  </button>\n                  \n                  {/* 帮助按钮放在最右侧 */}\n                  {onHelpClick && (\n                    <GlobalHelpButton \n                      helpId=\"thinkingCenter\" \n                      onHelpClick={onHelpClick} \n                      size={18} \n                      variant=\"ghost\" \n                      className=\"ml-1\" \n                    />\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            {/* Model Switching Buttons - Using ModelButton component for consistent styling */}\n            <div className={`relative h-auto max-h-40 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-300 dark:scrollbar-thumb-slate-700 scrollbar-track-transparent rounded-xl ${isNeomorphic ? (isNeomorphicDark ? 'bg-[#1e1e2e] shadow-[inset_4px_4px_8px_rgba(0,0,0,0.6),inset_-4px_-4px_8px_rgba(30,30,46,0.8)]' : 'bg-[#e0e5ec] shadow-[inset_4px_4px_8px_rgba(163,177,198,0.6),inset_-4px_-4px_8px_rgba(255,255,255,1)]') : (isDark ? 'bg-zinc-900 shadow-[inset_2px_2px_4px_rgba(0,0,0,0.5)]' : 'bg-slate-100 shadow-[inset_2px_2px_4px_rgba(163,177,198,0.3)]')}`}>\n              {/* 优化的流式布局：增大间距，更宽松美观 */}\n              <div className=\"flex flex-wrap gap-2 p-2\">\n                {filteredModels.map((model, index) => (\n                  <ModelButton\n                    key={model.id}\n                    onClick={() => handleModelClick(model.id)}\n                    isActive={activeModel === model.id}\n                    theme={validTheme as Theme}\n                    isFavorite={favorites.has(model.id)}\n                  >\n                    <div className=\"flex items-center gap-1 justify-start\">\n                      <span className={`inline-flex items-center justify-center w-4 h-4 rounded-full text-[8px] mr-1 ${isDark ? 'bg-zinc-800 text-zinc-400' : 'bg-slate-100 text-slate-500'} flex-shrink-0`}>{index + 1}</span>\n                      <span className=\"truncate text-nowrap\">{fixEncoding(model.label)}</span>\n                    </div>\n                  </ModelButton>\n                ))}\n              </div>\n            </div>\n          </div>\n          \n          {/* Model Display with lazy loading and error handling */}\n          {/* Model Content */}\n          <div className=\"space-y-4 animate-fadeIn\">\n            {/* Visual Design - Lazy loaded with error handling */}\n            <div className={`rounded-xl p-4 border transition-all duration-200 ${isDark ? (isNeomorphic ? `${neomorphicStyles.bg} ${neomorphicStyles.border} ${neomorphicStyles.shadow}` : 'bg-zinc-900 border-zinc-800') : (isNeomorphic ? `${neomorphicStyles.bg} ${neomorphicStyles.border} ${neomorphicStyles.shadow}` : 'bg-white border-slate-200')}`}>\n              {currentModel && currentModel.visualDesign ? (\n                <ModelErrorBoundary\n                  fallback={\n                    <div className={`flex flex-col items-center justify-center h-40 text-sm ${textSub} p-4`}>\n                      <p className=\"mb-2\">模型可视化渲染出错</p>\n                      <p className=\"text-xs opacity-70\">请尝试刷新页面或选择其他模型</p>\n                    </div>\n                  }\n                >\n                  {/* Safe rendering with additional checks and theme adaptation */}\n                  <div \n                    dangerouslySetInnerHTML={{ \n                      __html: sanitizeHtml(currentModel.visualDesign || '')\n                    }}\n                    className={`w-full ${bgClass} ${textMain} overflow-hidden`}\n                    style={{\n                      backgroundColor: isDark ? (isNeomorphic ? '#1e1e2e' : '#18181b') : (isNeomorphic ? '#e0e5ec' : '#f8fafc'),\n                      color: isDark ? '#f8fafc' : '#18181b',\n                      border: 'none',\n                      boxShadow: 'none'\n                    }}\n                  />\n                </ModelErrorBoundary>\n              ) : (\n                <div className={`flex items-center justify-center h-40 text-sm ${textSub}`}>\n                  暂无可视化设计\n                </div>\n              )}\n            </div>\n            \n            {/* Model Details */}\n            <div className={`rounded-xl p-4 border transition-all duration-200 ${isDark ? (isNeomorphic ? `${neomorphicStyles.bg} ${neomorphicStyles.border} ${neomorphicStyles.shadow}` : 'bg-zinc-900 border-zinc-800') : (isNeomorphic ? `${neomorphicStyles.bg} ${neomorphicStyles.border} ${neomorphicStyles.shadow}` : 'bg-white border-slate-200')}`}>\n              <div className=\"space-y-4\">\n                {/* Deep Analysis */}\n                {currentModel.deepAnalysis && (\n                  <div>\n                    <h3 className={`text-base font-semibold mb-2 ${textMain}`}>深度分析</h3>\n                    <p className={`text-sm ${textSub}`}>{currentModel.deepAnalysis}</p>\n                  </div>\n                )}\n                \n                {/* Principle */}\n                {currentModel.principle && (\n                  <div>\n                    <h3 className={`text-base font-semibold mb-2 ${textMain}`}>核心原则</h3>\n                    <p className={`text-sm ${textSub}`}>{currentModel.principle}</p>\n                  </div>\n                )}\n                \n                {/* Scope */}\n                {currentModel.scope && (\n                  <div>\n                    <h3 className={`text-base font-semibold mb-2 ${textMain}`}>适用范围</h3>\n                    <p className={`text-sm ${textSub}`}>{currentModel.scope}</p>\n                  </div>\n                )}\n                \n                {/* Tips */}\n                {currentModel.tips && (\n                  <div>\n                    <h3 className={`text-base font-semibold mb-2 ${textMain}`}>使用技巧</h3>\n                    <p className={`text-sm ${textSub}`}>{currentModel.tips}</p>\n                  </div>\n                )}\n                \n                {/* Practice */}\n                {currentModel.practice && (\n                  <div>\n                    <h3 className={`text-base font-semibold mb-2 ${textMain}`}>实践建议</h3>\n                    <p className={`text-sm ${textSub}`}>{currentModel.practice}</p>\n                  </div>\n                )}\n                \n                {/* Scenario */}\n                {currentModel.scenario && (\n                  <div>\n                    <h3 className={`text-base font-semibold mb-2 ${textMain}`}>应用场景</h3>\n                    <p className={`text-sm ${textSub}`}>{currentModel.scenario}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ThinkingCenter;"],"names":["sanitizeHtml","html","sanitized","replace","match","styleContent","processedStyle","trim","tagRegex","RegExp","join","attributeRegex","ModelErrorBoundary","children","fallback","error","console","ModelButton","onClick","isActive","theme","isFavorite","isDark","includes","isNeomorphic","startsWith","isNeomorphicDark","HeartIcon","jsx","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","d","jsxs","baseClass","getButtonClass","ThinkingCenter","onHelpClick","validTheme","neomorphicStyles","getNeomorphicStyles","bgClass","cardBg","getCardBgStyle","textMain","getTextStyle","textSub","fixEncoding","React","useCallback","text","decodeURIComponent","encodeURIComponent","fixModelEncoding","model","label","description","deepAnalysis","principle","scope","tips","practice","scenario","activeModel","setActiveModel","useState","_a","thinkingModels","id","searchTerm","setSearchTerm","viewCounts","setViewCounts","initialCounts","forEach","favorites","setFavorites","saved","localStorage","getItem","Set","JSON","parse","e","previousModel","setPreviousModel","clickCount","setClickCount","clickTimeout","setClickTimeout","useEffect","setItem","stringify","Array","from","handleModelClick","modelId","prevCounts","currentCount","prev","clearTimeout","timer","setTimeout","newCounts","newTimeouts","newFavorites","has","delete","add","filteredModels","useMemo","models","searchLower","toLowerCase","filter","sort","a","b","isAFavorite","isBFavorite","map","length","some","currentModel","find","name","icon","visualDesign","Search","size","type","placeholder","value","onChange","target","currentIndex","findIndex","m","prevIndex","title","ChevronLeft","nextIndex","ChevronRight","GlobalHelpButton","helpId","variant","index","bg","border","shadow","dangerouslySetInnerHTML","__html","style","backgroundColor","color","boxShadow"],"mappings":"um7tFAaMA,EAAgBC,IACpB,IAAKA,EAAM,MAAO,GAElB,IAAIC,EAAYD,EAGhBC,EAAYA,EAAUC,QAAQ,+BAAgC,IAG9DD,EAAYA,EAAUC,QAAQ,oCAAqC,CAACC,EAAOC,KAEzE,IAAIC,EAAiBD,EAgBrB,OAbAC,EAAiBA,EAAeH,QAAQ,yBAA0B,IAClEG,EAAiBA,EAAeH,QAAQ,yCAA0C,IAClFG,EAAiBA,EAAeH,QAAQ,0CAA2C,IAGnFG,EAAiBA,EAAeH,QAAQ,kBAAmB,WAG3DG,EAAiBA,EAAeH,QAAQ,kCAAmC,IAC3EG,EAAiBA,EAAeH,QAAQ,uBAAwB,IAChEG,EAAiBA,EAAeH,QAAQ,4BAA6B,IAGjEG,EAAeC,OACV,UAAUD,YAEZ,KAITJ,EAAYA,EAAUC,QAAQ,yCAA0C,IAGxE,MACMK,EAAW,IAAIC,OAAO,UADR,CAAC,MAAO,OAAQ,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,SAAU,KAAM,IAAK,IAAK,IAAK,MAAO,MAAO,IAAK,OAAQ,SAAU,OAAQ,OAAQ,OAAQ,UAAW,gBAAiB,mBAAoB,OAAQ,SAAU,SAC1MC,KAAK,iBAAmB,MAC3ER,EAAYA,EAAUC,QAAQK,EAAU,IAGxC,MACMG,EAAiB,IAAIF,OAAO,SADR,CAAC,QAAS,KAAM,MAAO,OAAQ,MAAO,QAAS,QAAS,SAAU,UAAW,YAAa,OAAQ,SAAU,eAAgB,mBAAoB,iBAAkB,cAAe,oBAAqB,UAAW,QAAS,IAAK,IAAK,KAAM,KAAM,IAAK,KAAM,KAAM,IAAK,SAAU,KAAM,KAAM,KAAM,MAC9PC,KAAK,kCAAuC,MAM1G,OALAR,EAAYA,EAAUC,QAAQQ,EAAgB,IAG9CT,EAAYA,EAAUC,QAAQ,QAAS,KAAKA,QAAQ,QAAS,KAEtDD,GAKHU,EAAqB,EAAGC,WAAUC,eAItC,IACE,yBAAUD,YACZ,OAASE,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,qBAC9BF,SAAAC,GACZ,GAIIG,EAAc,EAAGJ,WAAUK,UAASC,WAAUC,QAAOC,iBACzD,MAAMC,EAASF,EAAMG,SAAS,QACxBC,EAAeJ,EAAMK,WAAW,cAChCC,EAA6B,oBAAVN,EA4CnBO,EAAY,IAEdC,EAAAA,IAAC,MAAA,CACCC,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QACfC,UAAWjB,EAAa,4BAA8B,8BAEtDR,SAAAe,EAAAA,IAAC,OAAA,CAAKW,EAAE,+IAKd,OACEC,EAAAA,KAAC,SAAA,CACCtB,UACAoB,UA/DmB,MAGrB,MAAMG,EAAY,iMAGlB,OAAIjB,EACEE,EAEEP,EAEK,GAAGsB,iIAGH,GAAGA,ySAIRtB,EAEK,GAAGsB,2IAGH,GAAGA,oUAKVtB,EACK,GAAGsB,6DAENnB,EACK,GAAGmB,gEAEH,GAAGA,gEA6BHC,GAEX7B,SAAA,GAAAe,IAAC,OAAA,CAAKU,UAAU,oBAAqBzB,mBACpCc,EAAA,CAAA,OAKDgB,EAAgD,EAAGvB,QAAQ,mBAAoBwB,wBAEnF,MAAMC,EAAa,CAAC,mBAAoB,mBAAmBtB,SAASH,GAASA,EAAQ,mBAE/EE,EAASuB,EAAWtB,SAAS,QAC7BC,EAAeqB,EAAWpB,WAAW,cAErCC,EAAkC,oBAAfmB,EACnBC,EAAmBC,EAAoBrB,GAGvCsB,EAAU1B,EACXE,EAAe,eAAiB,cAChCA,EAAe,eAAiB,cAE/ByB,EAASC,EAAe1B,EAAcqB,EAAYvB,GAGlD6B,EAAWC,EAAa9B,EAAQE,EAAc,QAC9C6B,EAAUD,EAAa9B,EAAQE,EAAc,OA2B7C8B,EAAcC,EAAMC,YAAaC,IACrC,IAAKA,EAAM,OAAOA,EAClB,IAEE,OAAOC,mBAAmBC,mBAAmBF,GAC/C,OAAS1C,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC0C,CACT,GACC,IAGGG,EAAmBL,EAAMC,YAAaK,IACnC,IACFA,EACHC,MAAOR,EAAYO,EAAMC,OACzBC,YAAaT,EAAYO,EAAME,aAC/BC,aAAcV,EAAYO,EAAMG,cAChCC,UAAWX,EAAYO,EAAMI,WAC7BC,MAAOZ,EAAYO,EAAMK,OACzBC,KAAMb,EAAYO,EAAMM,MACxBC,SAAUd,EAAYO,EAAMO,UAC5BC,SAAUf,EAAYO,EAAMQ,YAE7B,CAACf,KAGGgB,EAAaC,GAAkBC,EAAAA,UAAiB,OAAAC,EAAAC,EAAe,SAAf,EAAAD,EAAmBE,KAAM,KACzEC,EAAYC,GAAiBL,EAAAA,SAAiB,KAC9CM,EAAYC,GAAiBP,EAAAA,SAAiC,KAEnE,MAAMQ,EAAwC,CAAA,EAI9C,OAHAN,EAAeO,QAAQpB,IACrBmB,EAAcnB,EAAMc,IAAM,IAErBK,KAIFE,EAAWC,GAAgBX,EAAAA,SAAsB,KAEtD,MAAMY,EAAQC,aAAaC,QAAQ,0BACnC,GAAIF,EACF,IACE,OAAO,IAAIG,IAAIC,KAAKC,MAAML,GAC5B,OAASM,GACP1E,QAAQD,MAAM,8CAA+C2E,EAC/D,CAEF,WAAWH,OAINI,EAAeC,GAAoBpB,EAAAA,SAAwB,OAG3DqB,EAAYC,GAAiBtB,EAAAA,SAAiC,CAAA,IAC9DuB,EAAcC,GAAmBxB,EAAAA,SAAyC,CAAA,GAGjFyB,EAAAA,UAAU,KACRZ,aAAaa,QAAQ,yBAA0BV,KAAKW,UAAUC,MAAMC,KAAKnB,MACxE,CAACA,IAGJ,MAAMoB,EAAoBC,IAExBhC,EAAegC,GAGXZ,GAAiBA,IAAkBY,GACrCxB,EAAcyB,IAAA,IACTA,EACHb,CAACA,IAAiBa,EAAWb,IAAkB,GAAK,KAEtDC,EAAiBW,IACPZ,GACVC,EAAiBW,GAInB,MAAME,GAAgBZ,EAAWU,IAAY,GAAK,EAClDT,EAAcY,QAAcA,EAAMH,CAACA,GAAUE,KAGzCV,EAAaQ,IACfI,aAAaZ,EAAaQ,IAI5B,MAAMK,EAAQC,WAAW,KAEvBf,EAAcY,IACZ,MAAMI,EAAY,IAAKJ,GAEvB,cADOI,EAAUP,GACVO,IAITd,EAAgBU,IACd,MAAMK,EAAc,IAAKL,GAEzB,cADOK,EAAYR,GACZQ,KAER,KAGHf,EAAgBU,QAAcA,EAAMH,CAACA,GAAUK,KAG1B,IAAjBH,IACFtB,EAAauB,IACX,MAAMM,EAAe,IAAIzB,IAAImB,GAM7B,OALIM,EAAaC,IAAIV,GACnBS,EAAaE,OAAOX,GAEpBS,EAAaG,IAAIZ,GAEZS,IAITlB,EAAcY,IACZ,MAAMI,EAAY,IAAKJ,GAEvB,cADOI,EAAUP,GACVO,IAITd,EAAgBU,IACd,MAAMK,EAAc,IAAKL,GAEzB,cADOK,EAAYR,GACZQ,MAgCPK,EAAiBC,EAAAA,QAAQ,KAE7B,IAAIC,EAAS5C,EACb,GAAIE,EAAWrE,OAAQ,CACrB,MAAMgH,EAAc3C,EAAW4C,cAC/BF,EAAS5C,EAAe+C,OAAO5D,GAC7BP,EAAYO,EAAMC,OAAO0D,cAAcjG,SAASgG,IAChDjE,EAAYO,EAAME,aAAayD,cAAcjG,SAASgG,IACtDjE,EAAYO,EAAMG,cAAcwD,cAAcjG,SAASgG,GAE3D,CAqBA,MAfqB,IAAID,GAAQI,KAAK,CAACC,EAAGC,KAExC,MAAMC,EAAc3C,EAAU+B,IAAIU,EAAEhD,IAC9BmD,EAAc5C,EAAU+B,IAAIW,EAAEjD,IAGpC,OAAIkD,IAAgBC,GAAoB,GACnCD,GAAeC,EAAoB,EAIjC,IAIWC,IAAInE,IACvB,CAACgB,EAAYM,EAAW5B,EAAaM,IAGxCqC,EAAAA,UAAU,OACJmB,EAAeY,OAAS,IAAO1D,GAAgB8C,EAAea,KAAKpE,GAASA,EAAMc,KAAOL,KAC3FC,EAAe6C,EAAe,GAAGzC,IAEjCiB,EAAiBwB,EAAe,GAAGzC,MAEpC,CAACyC,EAAgB9C,IAGpB,MAAM4D,EAAeb,EAAAA,QAAQ,KAC3B,IACE,MAAMxD,EAAQa,EAAeyD,KAAKtE,GAASA,EAAMc,KAAOL,IAAgBI,EAAe,IAAM,CAC3FC,GAAI,UACJyD,KAAM,UACNtE,MAAO,OACPuE,KAAM,eACNtE,YAAa,SACbC,aAAc,uBACdC,UAAW,OACXC,MAAO,OACPC,KAAM,cACNC,SAAU,eACVkE,aAAc,iEAEhB,OAAO1E,EAAiBC,EAC1B,OAAS9C,GAGP,OAFAC,QAAQD,MAAM,8BAA+BA,GAEtC6C,EAAiB,CACtBe,GAAI,UACJyD,KAAM,UACNtE,MAAO,OACPuE,KAAM,eACNtE,YAAa,SACbC,aAAc,uBACdC,UAAW,OACXC,MAAO,OACPC,KAAM,cACNC,SAAU,eACVkE,aAAc,iEAElB,GACC,CAAChE,EAAaV,IAEjB,OACEhC,EAAAA,IAAC,MAAA,CAAIU,UAAW,GAAGU,gDAEjBnC,SAAAe,EAAAA,IAAC,MAAA,CAAIU,UAAU,8CACbzB,SAAA2B,EAAAA,KAAC,MAAA,CAAIF,UAAU,sBAEbzB,SAAA,CAAA2B,EAAAA,KAAC,MAAA,CAAIF,UAAW,GAAGW,kCAEjBpC,SAAA,CAAAe,EAAAA,IAAC,OAAIU,UAAU,OACbzB,SAAA2B,EAAAA,KAAC,MAAA,CAAIF,UAAU,oDAEbzB,SAAA,CAAA2B,EAAAA,KAAC,MAAA,CAAIF,UAAW,gFAA+Ed,EAC1FE,EACC,wMACA,4NACDJ,EACC,8KACA,iMAGJT,SAAA,CAAAe,EAAAA,IAAC2G,EAAA,CAAOC,KAAM,GAAIlG,UAAWe,IAG7BzB,EAAAA,IAAC,QAAA,CACC6G,KAAK,OACLC,YAAY,YACZC,MAAO/D,EACPgE,SAAWlD,GAAMb,EAAca,EAAEmD,OAAOF,OACxCrG,UAAW,2GAA0GZ,EACjH,kCACAJ,EACE,kCACA,0CAMVkB,KAAC,MAAA,CAAIF,UAAU,iDACbzB,SAAA,CAAAe,EAAAA,IAAC,SAAA,CACCV,QAjJM,KACtB,GAAIkG,EAAeY,QAAU,EAAG,OAChC,MAAMc,EAAe1B,EAAe2B,UAAUC,GAAKA,EAAErE,KAAOL,GAE5D,IAAqB,IAAjBwE,EAEF,YADAxC,EAAiBc,EAAe,GAAGzC,IAGrC,MAAMsE,GAAaH,EAAe,EAAI1B,EAAeY,QAAUZ,EAAeY,OAC9E1B,EAAiBc,EAAe6B,GAAWtE,KAyI3BrC,UAAW,8DAA8Dd,EACpEE,EAAmB,mNAAqN,2OACxOJ,EAAS,qDAAuD,2CACjEA,EAAS,gBAAkB,mBAC/B4H,MAAM,QAENrI,SAAAe,EAAAA,IAACuH,EAAA,CAAYX,KAAM,OAGrB5G,EAAAA,IAAC,SAAA,CACCV,QA/IM,KACtB,GAAIkG,EAAeY,QAAU,EAAG,OAChC,MAAMc,EAAe1B,EAAe2B,UAAUC,GAAKA,EAAErE,KAAOL,GAE5D,IAAqB,IAAjBwE,EAEF,YADAxC,EAAiBc,EAAe,GAAGzC,IAGrC,MAAMyE,GAAaN,EAAe,GAAK1B,EAAeY,OACtD1B,EAAiBc,EAAegC,GAAWzE,KAuI3BrC,UAAW,8DAA8Dd,EACpEE,EAAmB,mNAAqN,2OACxOJ,EAAS,qDAAuD,2CACjEA,EAAS,gBAAkB,mBAC/B4H,MAAM,QAENrI,SAAAe,EAAAA,IAACyH,EAAA,CAAab,KAAM,OAIrB5F,GACChB,EAAAA,IAAC0H,EAAA,CACCC,OAAO,iBACP3G,cACA4F,KAAM,GACNgB,QAAQ,QACRlH,UAAU,iBAQpBV,EAAAA,IAAC,OAAIU,UAAW,4JAA2Jd,EAAgBE,EAAmB,iGAAmG,wGAA4GJ,EAAS,yDAA2D,iEAE/dT,SAAAe,EAAAA,IAAC,OAAIU,UAAU,2BACZzB,WAAekH,IAAI,CAAClE,EAAO4F,IAC1B7H,EAAAA,IAACX,EAAA,CAECC,QAAS,IAAMoF,EAAiBzC,EAAMc,IACtCxD,SAAUmD,IAAgBT,EAAMc,GAChCvD,MAAOyB,EACPxB,WAAY6D,EAAU+B,IAAIpD,EAAMc,IAEhC9D,SAAA2B,EAAAA,KAAC,MAAA,CAAIF,UAAU,wCACbzB,SAAA,CAAAe,EAAAA,IAAC,OAAA,CAAKU,UAAW,gFAAgFhB,EAAS,4BAA8B,8CAAgDT,WAAQ,UAC/L,OAAA,CAAKyB,UAAU,uBAAwBzB,SAAAyC,EAAYO,EAAMC,aARvDD,EAAMc,cAkBrBnC,KAAC,MAAA,CAAIF,UAAU,2BAEbzB,SAAA,GAAAe,IAAC,MAAA,CAAIU,UAAW,sDAAqDhB,EAAUE,EAAe,GAAGsB,EAAiB4G,MAAM5G,EAAiB6G,UAAU7G,EAAiB8G,SAAW,8BAAkCpI,EAAe,GAAGsB,EAAiB4G,MAAM5G,EAAiB6G,UAAU7G,EAAiB8G,SAAW,6BAC9S/I,SAAAqH,GAAgBA,EAAaI,aAC5B1G,EAAAA,IAAChB,EAAA,CACCE,WACE0B,KAAC,MAAA,CAAIF,UAAW,0DAA0De,QACxExC,SAAA,CAAAe,EAAAA,IAAC,IAAA,CAAEU,UAAU,OAAOzB,SAAA,cACpBe,EAAAA,IAAC,IAAA,CAAEU,UAAU,qBAAqBzB,SAAA,sBAKtCA,SAAAe,EAAAA,IAAC,MAAA,CACCiI,wBAAyB,CACvBC,EAAQ9J,EAAakI,EAAaI,cAAgB,KAEpDhG,UAAW,UAAUU,KAAWG,oBAChC4G,MAAO,CACLC,gBAAiB1I,EAAUE,EAAe,UAAY,UAAcA,EAAe,UAAY,UAC/FyI,MAAO3I,EAAS,UAAY,UAC5BqI,OAAQ,OACRO,UAAW,kBAKhB,MAAA,CAAI5H,UAAW,iDAAiDe,IAAWxC,yBAOhFe,IAAC,MAAA,CAAIU,UAAW,sDAAqDhB,EAAUE,EAAe,GAAGsB,EAAiB4G,MAAM5G,EAAiB6G,UAAU7G,EAAiB8G,SAAW,8BAAkCpI,EAAe,GAAGsB,EAAiB4G,MAAM5G,EAAiB6G,UAAU7G,EAAiB8G,SAAW,6BAC/S/I,SAAA2B,EAAAA,KAAC,MAAA,CAAIF,UAAU,YAEZzB,SAAA,CAAAqH,EAAalE,qBACX,MAAA,CACCnD,SAAA,CAAAe,MAAC,KAAA,CAAGU,UAAW,gCAAgCa,IAAYtC,SAAA,eAC1D,IAAA,CAAEyB,UAAW,WAAWe,IAAYxC,WAAamD,kBAKrDkE,EAAajE,WACZzB,EAAAA,KAAC,MAAA,CACC3B,SAAA,CAAAe,MAAC,KAAA,CAAGU,UAAW,gCAAgCa,IAAYtC,SAAA,eAC1D,IAAA,CAAEyB,UAAW,WAAWe,IAAYxC,WAAaoD,eAKrDiE,EAAahE,OACZ1B,EAAAA,KAAC,MAAA,CACC3B,SAAA,CAAAe,MAAC,KAAA,CAAGU,UAAW,gCAAgCa,IAAYtC,SAAA,eAC1D,IAAA,CAAEyB,UAAW,WAAWe,IAAYxC,WAAaqD,WAKrDgE,EAAa/D,MACZ3B,EAAAA,KAAC,MAAA,CACC3B,SAAA,CAAAe,MAAC,KAAA,CAAGU,UAAW,gCAAgCa,IAAYtC,SAAA,eAC1D,IAAA,CAAEyB,UAAW,WAAWe,IAAYxC,WAAasD,UAKrD+D,EAAa9D,UACZ5B,EAAAA,KAAC,MAAA,CACC3B,SAAA,CAAAe,MAAC,KAAA,CAAGU,UAAW,gCAAgCa,IAAYtC,SAAA,eAC1D,IAAA,CAAEyB,UAAW,WAAWe,IAAYxC,WAAauD,cAKrD8D,EAAa7D,UACZ7B,EAAAA,KAAC,MAAA,CACC3B,SAAA,CAAAe,MAAC,KAAA,CAAGU,UAAW,gCAAgCa,IAAYtC,SAAA,eAC1D,IAAA,CAAEyB,UAAW,WAAWe,IAAYxC,WAAawD"}