# 指南卡片设计标准与要求

## 1. 统一风格要求

### 1.1 3D专注生态指南风格
- 所有帮助卡片必须统一使用3D专注生态指南的设计风格
- 严格参照番茄钟全屏模式下的3D专注生态指南样式
- 确保所有卡片的视觉效果、交互方式和内容结构保持一致

### 1.2 组件统一
- 所有帮助卡片必须使用同一个组件（`UnifiedGuideCard`）进行管理
- 避免多个不同的帮助卡片组件共存
- 确保组件具有良好的可维护性和扩展性

## 2. 视觉设计标准

### 2.1 主题适配
- 支持拟态浅色（`neomorphic-light`）和拟态深色（`neomorphic-dark`）两种主题
- 深色模式下必须显示正确的深色背景和文字颜色
- 主题切换时卡片样式必须实时更新
- 主题获取逻辑必须与系统实际实现保持一致

### 2.2 布局与尺寸
- 卡片最大宽度：600px
- 卡片宽度：80%
- 卡片最大高度：90vh
- 内边距：30px
- 圆角：20px
- 阴影效果：20px 20px 60px var(--shadow-dark), -20px -20px 60px var(--shadow-light)

### 2.3 字体与颜色
- 标题字体大小：24px，颜色使用CSS变量 `--text-main`，字重700
- 二级标题字体大小：16px，颜色使用CSS变量 `--text-main`，字重700
- 正文字体大小：14px，颜色使用CSS变量 `--text-gray`，行高1.6
- 按钮文字颜色：使用CSS变量 `--text-sub`

### 2.4 动画效果
- 淡入缩放动画：0.3秒 ease-out 过渡
- 动画效果必须与番茄钟全屏模式下的3D专注生态指南一致

## 3. 内容结构标准

### 3.1 板块划分
每个指南卡片必须包含以下板块：
- 📋 产品介绍
- ⚙️ 底层原理（根据配置可选项）
- 📌 核心规则
- 🎯 使用方法

### 3.2 使用方法分点格式
- 使用方法中的数字序号（如1.、2.、3.）必须单独换行显示
- 仅添加换行功能，不得改变原有字体大小、颜色和间距
- 第一个序号前不得出现空行
- 保持原有样式的一致性

## 4. 交互设计标准

### 4.1 显示与隐藏
- 卡片显示时使用淡入缩放动画
- 点击背景遮罩或关闭按钮可关闭卡片
- 卡片显示层级（z-index）必须为3000，确保在其他元素之上

### 4.2 滚动与响应式
- 卡片内容区域支持垂直滚动
- 适配不同屏幕尺寸
- 移动端优化

## 5. 代码实现规范

### 5.1 组件设计
- 使用React函数组件
- 支持TypeScript类型定义
- 使用React Portal进行渲染
- 组件必须具有良好的可复用性

### 5.2 样式管理
- 使用CSS变量管理主题颜色
- 支持动态主题切换
- 样式代码简洁、高效
- 避免样式冲突

### 5.3 主题获取
- 从document根元素类名获取当前主题
- 使用MutationObserver监听主题变化
- 确保主题获取逻辑与系统实际实现一致

## 6. 质量保证

### 6.1 错误处理
- 确保组件在各种情况下都能正常工作
- 避免空指针异常和渲染错误

### 6.2 性能优化
- 合理使用React hooks
- 避免不必要的渲染
- 优化组件性能

### 6.3 代码规范
- 遵循项目代码规范
- 保持代码整洁、可读性强
- 添加必要的注释

## 7. 示例实现

### 7.1 组件使用示例
```tsx
<UnifiedGuideCard
  activeHelp={activeHelp}
  helpContent={helpContent}
  onClose={onClose}
  config={config}
/>
```

### 7.2 使用方法换行处理示例
```tsx
<p>{content.usageMethods.replace(/(?<!^)(\d+\.)/g, '\n$1')}</p>
```

## 8. 维护与更新

### 8.1 内容更新
- 定期更新指南内容，确保与系统功能同步
- 保持内容的准确性和完整性
- 遵循统一的内容编写规范

### 8.2 样式更新
- 样式更新时必须确保所有卡片同步更新
- 避免部分卡片样式不一致
- 保持设计风格的统一性

## 9. 验收标准

### 9.1 视觉一致性
- 所有帮助卡片视觉效果完全一致
- 与番茄钟全屏模式下的3D专注生态指南风格统一
- 主题切换时样式正确

### 9.2 功能完整性
- 卡片正常显示和隐藏
- 主题切换功能正常
- 使用方法分点正确换行显示

### 9.3 代码质量
- 代码符合项目规范
- 组件具有良好的可维护性
- 没有语法或类型错误

---

**更新日期**：2026-01-19
**适用范围**：人生游戏管理系统所有帮助卡片
**设计标准**：基于3D专注生态指南
