# 人生游戏化管理系统

## 1. 项目概述
这是一个基于 React 和 TypeScript 开发的人生管理系统，采用游戏化设计理念，帮助用户养成良好习惯、管理任务和实现个人成长。项目使用 Vite 作为构建工具。

## 1.1 最新更新

### 图表系统优化
- 删除了熵增对抗、五维能力模型、作战热度等无用图表
- 修复了心流通道图表显示问题，添加了明显的心流通道区域
- 将舒适区图表从雷达图改回环形图，更形象直观
- 将专注时间趋势从10天改为30天，提供更长期的趋势分析
- 删除了习惯属性分布、情绪波动、时间分配、学习效率、习惯链等无用图表
- 添加了5个新的有价值的图表：成长心态、决策模型、生产力金字塔、学习循环、平衡轮
- 新增了5个更有哲理和启发的图表：富足思维、持续改善、思维模型、复原力曲线、目标层级
- 优化了习惯完成率图表，联动日常任务和主线任务，展示总完成率和任务数

### 补给黑市改进
- 修复了编辑商品功能和界面闪烁问题
- 优化了商品展示，改为圆形图标+文字描述，与荣誉殿堂的勋章样式保持一致
- 将价格单位从G改为人民币符号
- 优化了购买动画，改为从小变大，删除了3D旋转
- 修复了提示音问题，只保留一个好听的声音

### 番茄钟优化
- 将默认背景音改为森林
- 添加了更多背景音：海浪声、雨声、咖啡馆、夏夜虫鸣、键盘声
- 默认开启声音，提供更好的专注体验

### 随机任务优化
- 优化了随机任务添加模式，与日常任务保持一致，支持添加任务名称、奖励、耗时等信息
- 为现有任务添加了奖励信息，支持动态解析任务格式

## 1.2 项目特色
- **游戏化设计**：通过 XP、金币、成就等机制激励用户持续行动
- **数据可视化**：提供丰富的图表分析，帮助用户了解自己的成长轨迹
- **AI 辅助**：结合 Google Gemini API 提供智能分析和建议
- **全面覆盖**：从习惯养成到项目管理，覆盖个人成长的多个方面
- **视觉吸引力**：赛博朋克风格的 UI 设计，增强用户体验
- **响应式设计**：适配不同屏幕尺寸

## 1.3 技术亮点
- 使用 React 19 最新特性
- 严格的 TypeScript 类型安全
- 组件化开发，高内聚低耦合
- 性能优化，避免不必要的重渲染
- 数据持久化，支持跨会话保存
- 丰富的动画效果，提升用户体验

## 2. 技术栈
- **前端框架**：React 19.2.3
- **开发语言**：TypeScript
- **构建工具**：Vite
- **AI 集成**：Google Gemini API (@google/genai)
- **UI 组件**：Lucide React (图标库)
- **图表库**：Recharts
- **动画效果**：canvas-confetti

## 3. 核心功能模块

### 3.1 游戏化人生管理
- **角色成长系统**：通过完成任务和习惯获取经验值 (XP) 和金币，提升角色等级和属性
- **成就系统**：包含多种成就徽章，如等级、专注时间、金币持有量等
- **每日签到**：连续签到获取额外奖励
- **战役/任务系统**：将长期目标拆分为可执行的子任务，完成后获得大量奖励

### 3.2 习惯养成
- **习惯追踪**：定义和追踪每日习惯，记录完成情况和连续天数
- **习惯奖励**：完成习惯获得金币和 XP 奖励
- **习惯分析**：可视化习惯完成情况，提供数据支持

### 3.3 任务管理
- **项目分解**：将大项目拆分为子任务，跟踪进度
- **任务矩阵**：四象限任务管理，区分重要性和紧急性
- **专注计时**：支持番茄钟专注计时，完成后获得奖励

### 3.4 数据可视化
- **仪表盘**：展示每日、每周数据统计
- **图表分析**：习惯完成率、任务进度、专注时间等数据的可视化展示
- **趋势分析**：长期数据趋势追踪，帮助用户了解成长轨迹

### 3.5 AI 辅助功能
- **AI 教练**：提供个性化指导和建议
- **AI 分析**：对用户数据进行智能分析，生成洞察

## 4. 数据模型

### 4.1 核心数据结构
- **习惯 (Habit)**：包含名称、奖励、经验值、连续天数等
- **项目 (Project)**：包含名称、描述、子任务、状态等
- **任务 (Task)**：包含标题、持续时间、完成状态等
- **交易 (Transaction)**：金币收支记录
- **成就 (AchievementItem)**：成就项目，包含条件、奖励等
- **角色属性**：力量 (STR)、智力 (INT)、意志力 (DIS)、创造力 (CRE)、社交 (SOC)、财富 (WEA)

### 4.2 数据持久化
- 使用 localStorage 存储用户数据
- 支持跨会话数据保存
- 每日自动重置部分数据

## 5. 视觉设计
- **主题切换**：支持深色/浅色主题
- **赛博朋克风格**：深色背景配合霓虹色彩，营造科技感
- **动态效果**：浮动奖励动画、成就解锁特效等
- **响应式设计**：适配不同屏幕尺寸

## 6. 工作流程
1. **每日签到**：获取初始奖励
2. **查看目标**：了解今日和本周目标
3. **完成习惯**：标记已完成的习惯，获取奖励
4. **执行任务**：完成项目子任务和随机挑战
5. **专注工作**：使用番茄钟专注工作，获得专注奖励
6. **查看成就**：解锁新成就，领取奖励
7. **数据分析**：查看当日数据统计和趋势分析

## 7. 特色亮点
- **游戏化激励**：通过 XP、金币、成就等机制激励用户持续行动
- **AI 辅助**：结合 AI 技术提供个性化指导
- **数据驱动**：基于数据的分析和建议，帮助用户做出更明智的决策
- **全面覆盖**：从习惯养成到项目管理，覆盖个人成长的多个方面
- **视觉吸引力**：赛博朋克风格的 UI 设计，增强用户体验

## 8. 扩展可能性
- **云同步**：支持多设备数据同步
- **社交功能**：好友系统、排行榜等
- **更丰富的 AI 功能**：智能规划、情绪分析等
- **API 集成**：与其他应用和服务集成
- **更多游戏化机制**：装备系统、技能树等

## 9. 运行说明

### 9.1 安装依赖
```bash
npm install
```

### 9.2 设置环境变量
在 `.env.local` 文件中设置 Gemini API 密钥：
```
GEMINI_API_KEY=your_api_key_here
```

### 9.3 启动开发服务器
```bash
npm run dev
```

### 9.4 构建生产版本
```bash
npm run build
```

## 10. 项目结构
```
├── components/         # React 组件
├── App.tsx            # 主应用组件
├── constants.ts       # 常量定义
├── index.tsx          # 应用入口
├── types.ts           # TypeScript 类型定义
├── vite.config.ts     # Vite 配置
└── package.json       # 项目依赖和脚本
```

## 11. 开发说明

### 11.1 组件设计原则
- 组件化开发，高内聚低耦合
- 类型安全，严格使用 TypeScript 类型
- 响应式设计，适配不同屏幕尺寸
- 性能优化，避免不必要的重渲染

### 11.2 代码规范
- 遵循 React 最佳实践
- TypeScript 严格模式
- 统一的代码风格
- 完整的注释

## 12. 未来规划

### 12.1 短期目标
- 完善核心功能
- 优化用户体验
- 增加更多 AI 辅助功能

### 12.2 中期目标
- 支持云同步
- 增加社交功能
- 开发移动端版本

### 12.3 长期目标
- 构建完整的人生成长生态系统
- 支持多平台部署
- 提供 API 服务

## 13. 贡献指南

### 13.1 开发流程
1. Fork 项目
2. 创建特性分支
3. 提交代码
4. 创建 Pull Request

### 13.2 代码规范
- 遵循项目的代码风格
- 提交前运行测试
- 提供完整的文档

## 14. 许可证

MIT License

