<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>关键路径法 (CPM)</title>
  <style>
    /* 全局重置与基础样式 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* CSS 变量定义 - 浅色主题 */
    :root {
      --bg: #f8fafc;
      --card-bg: #ffffff;
      --primary-color: #ef4444;
      --secondary-color: #3b82f6;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-color: #e2e8f0;
      --border-radius: 16px;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* CSS 变量定义 - 深色主题 */
    [data-theme="dark"] {
      --bg: #1a1b1e;
      --card-bg: #2d3748;
      --primary-color: #f87171;
      --secondary-color: #60a5fa;
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --border-color: #334155;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
    }

    /* 全局样式 */
    body {
      font-family: var(--font-sans);
      background-color: var(--bg);
      color: var(--text-primary);
      line-height: 1.6;
      transition: var(--transition);
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* 容器样式 */
    .container {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 40px;
    }

    /* SVG 容器样式 */
    .svg-container {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 40px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .svg-container:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    /* SVG 样式 */
    svg {
      max-width: 100%;
      height: auto;
    }

    /* 文本内容样式 */
    .text-content {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 40px;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .text-content:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    /* 标题样式 */
    h1 {
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 800;
      margin-bottom: 20px;
      color: var(--text-primary);
      line-height: 1.2;
    }

    h3 {
      font-size: clamp(1.2rem, 2vw, 1.5rem);
      font-weight: 600;
      margin: 25px 0 15px;
      color: var(--text-primary);
    }

    /* 段落样式 */
    p {
      font-size: clamp(1rem, 1.5vw, 1.125rem);
      margin-bottom: 30px;
      color: var(--text-secondary);
    }

    /* 网格布局 */
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 30px;
      margin-top: 30px;
    }

    /* 列表样式 */
    ul {
      list-style: none;
      padding-left: 0;
    }

    li {
      font-size: clamp(0.95rem, 1.4vw, 1.05rem);
      margin-bottom: 12px;
      padding-left: 20px;
      position: relative;
      color: var(--text-secondary);
    }

    li:before {
      content: "•";
      position: absolute;
      left: 0;
      color: var(--primary-color);
      font-weight: bold;
      font-size: 1.2em;
    }

    li strong {
      color: var(--text-primary);
    }

    /* 模型描述部分 */
    .model-description {
      margin-top: 40px;
      padding-top: 30px;
      border-top: 2px solid var(--border-color);
    }

    .model-description h3 {
      color: var(--primary-color);
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        gap: 30px;
      }

      .neu-card,
      .text-content {
        padding: 25px;
      }

      body {
        padding: 15px;
      }
    }

    @media (max-width: 480px) {
      .neu-card,
      .text-content {
        padding: 20px;
      }

      h1 {
        font-size: 1.8rem;
      }

      h3 {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- SVG 容器 -->
    <div class="svg-container">
      <svg viewBox="0 0 1000 600">
        <g transform="translate(500, 300)">
          <!-- 关键路径 (高亮喷发) -->
          <g stroke="var(--primary-color)" stroke-width="12" stroke-linecap="round">
            <line x1="-400" y1="0" x2="-150" y2="-200" />
            <line x1="-150" y1="-200" x2="150" y2="-200" />
            <line x1="150" y1="-200" x2="400" y2="0" />
          </g>
          
          <!-- 次要路径 (淡色) -->
          <g stroke="var(--text-primary)" stroke-width="4" opacity="0.1">
            <line x1="-400" y1="0" x2="0" y2="200" />
            <line x1="0" y1="200" x2="400" y2="0" />
          </g>

          <!-- 节点标签 (大字号) -->
          <g transform="translate(-400, 0)">
            <circle r="40" fill="var(--text-primary)" />
            <text text-anchor="middle" y="5" fill="white" style="font-size: 14px; font-weight: 900;">起点</text>
          </g>
          <g transform="translate(-150, -200)">
            <circle r="60" fill="var(--primary-color)" />
            <text text-anchor="middle" y="5" fill="white" style="font-size: 20px; font-weight: 900;">核心任务 A</text>
          </g>
          <g transform="translate(150, -200)">
            <circle r="60" fill="var(--primary-color)" />
            <text text-anchor="middle" y="5" fill="white" style="font-size: 20px; font-weight: 900;">核心任务 B</text>
          </g>
          <g transform="translate(400, 0)">
            <circle r="40" fill="var(--text-primary)" />
            <text text-anchor="middle" y="5" fill="white" style="font-size: 14px; font-weight: 900;">终点</text>
          </g>
          <g transform="translate(0, 200)">
            <circle r="50" fill="var(--text-primary)" opacity="0.1" />
            <text text-anchor="middle" y="5" fill="var(--text-secondary)" style="font-size: 16px; font-weight: 900;">次要环节</text>
          </g>
        </g>
        <text x="500" y="550" text-anchor="middle" fill="var(--primary-color)" style="font-size: 32px; font-weight: 900; letter-spacing: 0.2em;">红线任务：零机动余地</text>
      </svg>
    </div>

    <!-- 文本内容 -->
    <div class="text-content">
      <h1>关键路径法 (CPM)</h1>
      <p>控制项目的物理上线。关键路径是指决定项目总工期最短、且没有任何机动余地（零浮动时间）的一系列核心活动链条。</p>
      
      <!-- 模型概述 -->
      <div class="model-overview">
        <h3>模型概述</h3>
        <p>关键路径法（Critical Path Method, CPM）是一种用于项目管理的算法，用于确定项目中的关键路径和项目完成时间。关键路径是指项目中所有活动的最长路径，它决定了项目的最短完成时间。</p>
      </div>
      
      <!-- 核心原理 -->
      <div class="core-principles">
        <h3>核心原理</h3>
        <ul>
          <li><strong>最长路径决定工期：</strong>项目的最短完成时间由所有活动的最长路径决定。</li>
          <li><strong>零浮动时间：</strong>关键路径上的活动没有任何机动余地，任何延误都会直接影响项目完成时间。</li>
          <li><strong>依赖关系：</strong>活动之间的先后顺序关系决定了路径的形成。</li>
          <li><strong>动态变化：</strong>随着项目的进展，关键路径可能会发生转移。</li>
        </ul>
      </div>
      
      <!-- 应用范围 -->
      <div class="application-range">
        <h3>应用范围</h3>
        <ul>
          <li><strong>建筑工程：</strong>大型建筑项目的规划和管理。</li>
          <li><strong>软件开发：</strong>复杂软件项目的时间线规划。</li>
          <li><strong>制造业：</strong>新产品研发和生产流程优化。</li>
          <li><strong>活动策划：</strong>大型活动的筹备和执行计划。</li>
          <li><strong>基础设施项目：</strong>交通、能源等大型基础设施建设。</li>
        </ul>
      </div>
      
      <!-- 使用技巧 -->
      <div class="usage-tips">
        <h3>使用技巧</h3>
        <ul>
          <li><strong>死穴识别：</strong>关键路径上的任何延误，都会导致最终交付日期的 1:1 延后。</li>
          <li><strong>资源倾斜：</strong>将所有的顶级专家和紧急应变资源优先分配给红线上的任务。</li>
          <li><strong>实时监控：</strong>持续跟踪关键路径上的活动进度，及时发现潜在延误。</li>
          <li><strong>关键路径转移：</strong>随着项目进展，关键路径可能发生转移，需要实时调整管理重点。</li>
        </ul>
      </div>
      
      <!-- 实践建议 -->
      <div class="practical-suggestions">
        <h3>实践建议</h3>
        <ul>
          <li><strong>详细活动分解：</strong>将项目分解为足够详细的活动，确保依赖关系清晰。</li>
          <li><strong>准确时间估算：</strong>基于历史数据和专家判断，尽可能准确地估算活动持续时间。</li>
          <li><strong>资源平衡：</strong>虽然传统CPM不考虑资源约束，但实际管理中需要平衡资源分配。</li>
          <li><strong>缓冲管理：</strong>在关键路径上设置适当的缓冲时间，以应对不确定性。</li>
          <li><strong>工具支持：</strong>使用专业的项目管理软件来计算和管理关键路径。</li>
        </ul>
      </div>
      
      <!-- 应用场景 -->
      <div class="application-scenarios">
        <h3>应用场景</h3>
        <ul>
          <li><strong>项目规划阶段：</strong>制定详细的项目计划，确定关键路径和里程碑。</li>
          <li><strong>资源分配：</strong>根据关键路径，优先分配资源给关键活动。</li>
          <li><strong>进度监控：</strong>在项目执行过程中，监控关键路径上的活动进度。</li>
          <li><strong>风险管理：</strong>识别关键路径上的风险，并制定相应的风险应对策略。</li>
          <li><strong>项目变更管理：</strong>评估变更对关键路径的影响，确保项目按时完成。</li>
        </ul>
      </div>
      
      <!-- 实施步骤 -->
      <div class="implementation-steps">
        <h3>实施步骤</h3>
        <ul>
          <li><strong>定义活动：</strong>识别项目中的所有具体任务或工作。</li>
          <li><strong>确定依赖关系：</strong>明确活动之间的先后顺序关系。</li>
          <li><strong>估算持续时间：</strong>估算每个活动所需的时间。</li>
          <li><strong>绘制网络图：</strong>使用箭头和节点绘制项目网络图。</li>
          <li><strong>计算最早时间：</strong>从项目开始到结束，计算每个活动的最早开始和完成时间。</li>
          <li><strong>计算最晚时间：</strong>从项目结束到开始，计算每个活动的最晚开始和完成时间。</li>
          <li><strong>确定关键路径：</strong>识别浮动时间为零的活动，这些活动组成了关键路径。</li>
          <li><strong>监控和调整：</strong>在项目执行过程中，监控关键路径上的活动，并根据需要进行调整。</li>
        </ul>
      </div>
      
      <!-- 注意事项 -->
      <div class="notes">
        <h3>注意事项</h3>
        <p>在应用关键路径法时，需要注意以下几点：</p>
        <ul>
          <li><strong>避免胡子眉毛一把抓：</strong>在有大量富余时间的次要路径上浪费精力，是项目管理中最常见的效率陷阱。</li>
          <li><strong>动态位移：</strong>随着项目进度的变化，关键路径可能发生转移。必须实时监控系统的“木桶短板”。</li>
          <li><strong>资源约束：</strong>传统CPM不考虑资源约束，实际应用中需要结合资源平衡。</li>
          <li><strong>估算准确性：</strong>活动持续时间的估算准确性直接影响关键路径的计算结果。</li>
          <li><strong>复杂度管理：</strong>对于大型项目，考虑使用专业软件来管理关键路径的复杂性。</li>
        </ul>
        <p>为了克服这些局限性，现代项目管理中经常将关键路径法与其他方法结合使用，如关键链法（Critical Chain Method），它考虑了资源约束和缓冲时间。</p>
        <p>总之，关键路径法是一种有效的项目管理工具，它可以帮助项目管理者明确项目时间线，识别关键活动，优化资源分配，提高项目可控性，从而确保项目按时完成。</p>
      </div>
    </div>
  </div>

  <script>
    // 从localStorage中读取主题设置并应用
    document.addEventListener('DOMContentLoaded', function() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', savedTheme);
    });

    // 监听主题切换事件
    window.addEventListener('themeChange', function(event) {
      const newTheme = event.detail.theme;
      document.body.setAttribute('data-theme', newTheme);
    });
  </script>
</body>
</html>